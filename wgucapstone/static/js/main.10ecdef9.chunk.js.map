{"version":3,"sources":["routes/login.js","routes/nav.js","routes/main.js","routes/top.js","routes/users.js","routes/customers.js","routes/appointments.js","js/classes/appointment.js","routes/reports.js","routes/search.js","routes/history.js","App.js","serviceWorker.js","index.js"],"names":["login","props","state","username","password","updated_date","created_date","count","error","path","window","location","protocol","hostname","onChange","bind","onSubmit","this","checkLoginSession","checkUserCount","event","console","log","target","name","value","setState","e","preventDefault","axios","get","then","res","user","data","finally","err","document","getElementById","classList","remove","createLoginSession","history","push","Date","now","updatedDate","createdDate","post","type","updatedBy","createdBy","result","localStorage","getItem","_id","setItem","className","placeholder","Component","Navbar","admin","title","link","dispatcher","worker","list","href","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","map","index","key","onClick","onLogout","main","crudState","selected","cUser","year","month","monthName","cust","add","stime","etime","users","listmonths","listdays","listcust","listwork","listallapp","listapp","onClickDay","d","getFullYear","getMonth","loadDays","dn","dc","t","forEach","app","cd","getDate","length","custid","userid","y","m","am","parseInt","date","getDay","firstday","days","i","d2","results","curDate","join","hasOwnProperty","ind","color","custs","address","workers","work","val","newdate","setMonth","toLocaleTimeString","class","changeApp","width","height","viewBox","fill","xmlns","fill-rule","changeMonth","day","num","Top","addEventListener","handleScroll","removeEventListener","top","body","scrollTop","documentElement","style","display","toTop","pass","cPass","editUser","lbutton","rbutton","selCrud","selectedName","selectedIndex","disabled","header","runtest","onCancel","handleCrudChange","handleUserChange","undefined","getAllUsers","o","n","crudRefresh","check","flag","delete","crudUse","findIndex","removeItem","put","checked","role","aria-describedby","customers","uid","address2","city","zip","phone","edit","documents","test","handleEditChange","getAllDocuments","a","a2","c","z","p","inputReset","appointments","cid","rate","supply","total","hours","overlap","tasks","notes","workerid","workername","selCust","selCustId","test2","onSelect","onChecked","handleAppChange","handleCustomerChange","getAllCustomers","getAllWorkers","s","dt","getMinutes","getHours","setHours","Math","round","setMinutes","sdate","edate","oldty","getTypeVal","substring","indexOf","lzHour","lzMinute","typeRefresh","opening","closing","eflag","e2","s2","v","parseFloat","toFixed","tempworkers","htmlFor","step","appointment","u","h","ty","_userid","_custid","_title","_overlap","_hours","_type","_notes","_stime","_etime","_uid","routapp","r","tl","ta","_rate","_total","_tasks","split","specapp","su","_supply","reports","categories","entries","tblall","tblrou","tblcon","tblspe","listapps","listrout","listcons","listspec","handleTypeChange","getAllApps","usserid","routs","cons","specs","newapp","loadApps","table","rou","con","spe","obj","indexMonth","rout","sum","avg","getTaskCount","avgtasks","spec","sup","supavg","changeYear","scope","getMonthName","search","tbluse","tblcus","tblapp","q","loadData","createBrowserHistory","App","component","withRouter","exact","Boolean","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.10ecdef9.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\nclass login extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t\tupdated_date: '',\r\n\t\t\tcreated_date: '',\r\n\t\t\tcount: '',\r\n\t\t\terror: '',\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname\r\n\t\t};\r\n\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.onSubmit = this.onSubmit.bind(this);\r\n\r\n\t}\r\n\r\n\t//First Run check. If there is no users. Add the following  admin/admin as user/pass\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.checkLoginSession();\r\n\t\t//this.dropCheck();\r\n\t\tthis.checkUserCount();\r\n\t}\r\n\r\n\r\n\tonChange(event) {\r\n\t\tconsole.log(\"eventname: \" + event.target.name);\r\n\t\tconst state = this.state\r\n\t\tstate[event.target.name] = event.target.value;\r\n\t\tthis.setState(state);\r\n\t}\r\n\r\n\tonSubmit(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\taxios.get(this.state.path + ':5000/user/u/' + this.state.username)\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({ user: res.data });\r\n\t\t\t\tconsole.log(this.state.user); //pulls the user if it exists\r\n\t\t\t}).finally(() => {\r\n\r\n\r\n\t\t\t\ttry{\r\n\t\t\t\t\tif (this.state.username === '' ) throw \"ERROR: Username was left blank.\"\r\n\t\t\t\t\tif (this.state.password === '' ) throw \"ERROR: Password was left blank.\"\r\n\t\t\t\t\tif (this.state.user === null ) throw \"ERROR: Username or password is incorrect.\"\r\n\t\t\t\t\tif (this.state.user.password !== this.state.password ) throw \"ERROR: Username or password is incorrect.\"\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tcatch(err){\r\n\t\t\t\t\tthis.setState({ error: err })\r\n\t\t\t\t\tif (document.getElementById(\"error\") !== null) {\r\n\t\t\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t\tthis.createLoginSession();\r\n\r\n\t\t\t\tthis.props.history.push(\"/main\")\r\n\r\n\t\t\t});\r\n\t\t\t\r\n\r\n\t}\r\n\r\n\r\n\tcheckUserCount() {\r\n\t\taxios.get(this.state.path + ':5000/user/count')\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({ count: res.data });\r\n\t\t\t\tconsole.log(\"user count: \" + this.state.count); //pulls the user if it exists\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tif (this.state.count <= 0) {\r\n\t\t\t\t\t//logic here for creating user;\r\n\r\n\t\t\t\t\tthis.setState({ updated_date: Date.now })\r\n\t\t\t\t\tthis.setState({ created_date: Date.now })\r\n\r\n\r\n\t\t\t\t\tconst username = \"Admin\";\r\n\t\t\t\t\tconst type = \"Admin\"\r\n\t\t\t\t\tconst password = \"admin\";\r\n\t\t\t\t\tconst updatedBy = \"Admin\";\r\n\t\t\t\t\tconst createdBy = \"Admin\";\r\n\t\t\t\t\tconst updatedDate = new Date();\r\n\t\t\t\t\tconst createdDate = new Date();\r\n\r\n\r\n\t\t\t\t\taxios.post(this.state.path + ':5000/user', { username, type, password, updatedBy, createdBy, updatedDate, createdDate })\r\n\t\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\r\n\tcheckLoginSession() {\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'false'  || !localStorage.getItem(\"isLoggedIn\")) {\r\n\t\t\tthis.props.history.push(\"/\")\r\n\t\t} else if(localStorage.getItem(\"isLoggedIn\") === 'true'){\r\n\t\t\tthis.props.history.push(\"/main\")\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tcreateLoginSession() {\r\n\t\tconsole.log(this.state.user._id);\r\n\t\tlocalStorage.setItem(\"userId\", this.state.user._id);\r\n\t\tlocalStorage.setItem(\"username\", this.state.user.username);\r\n\t\tlocalStorage.setItem(\"userType\", this.state.user.type);\r\n\t\tlocalStorage.setItem(\"isLoggedIn\", true);\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\r\n\t\t\t<form className=\"form-login border text-center full-center\" onSubmit={this.onSubmit}>\r\n\t\t\t\t<p className=\"error\">{this.state.error}</p>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Username\" name=\"username\" value={this.state.username} onChange={this.onChange} className=\"form-control\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input type=\"password\" placeholder=\"Password\" name=\"password\" value={this.state.password} onChange={this.onChange} className=\"form-control\" />\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-lg btn-primary btn-block\">Sign in</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default login;\r\n","import React, { Component } from 'react';\r\nclass Navbar extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tadmin : [{title: 'Main', link: '/main'},{title: 'Users', link: '/users'},{title: 'Customers', link: '/customers'},{title: 'Appointments', link: '/appointments'},{title: 'Reports', link: '/reports'},{title: 'Search', link: '/search'}],\r\n\t\t\tdispatcher : [{title: 'Main', link: '/main'},{title: 'Customers', link: '/customers'},{title: 'Appointments', link: '/appointments'}],\r\n\t\t\tworker : [{title: 'Main', link: '/main'}],\r\n\t\t\tlist : []\r\n\r\n\t\t\t\r\n\r\n\t\t}\r\n\r\n\t\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif(localStorage.getItem('userType') === 'Admin'){\r\n\t\t\tthis.setState({list : this.state.admin})\r\n\t\t} else if (localStorage.getItem('userType') === 'Dispatcher'){\r\n\t\t\tthis.setState({list : this.state.dispatcher})\r\n\t\t} else {\r\n\t\t\tthis.setState({list : this.state.worker})\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\tonLogout(){\r\n\t\tlocalStorage.setItem(\"isLoggedIn\", false) \r\n\t\tlocalStorage.setItem(\"userId\", '') \r\n\t\tlocalStorage.setItem(\"userType\", '') \r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-dark static-top\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<a className=\"navbar-brand\" href=\"#\">[Company Name] Scheduler</a>\r\n\t\t\t\t\t<button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarResponsive\" aria-controls=\"navbarResponsive\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n\t\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n\t\t\t\t\t\t<ul className=\"navbar-nav ml-auto\">\r\n\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.list.map((list, index) => (\r\n\r\n\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"nav-item\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<a className=\"nav-link\" href={list.link}>{list.title}</a>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<a className=\"nav-link\" href=\"\" onClick={this.onLogout}>Log Out</a>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</nav>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Navbar;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from './../routes/nav';\r\n\r\n\r\nclass main extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\tcrudState: '',\r\n\t\t\tselected: '',\r\n\t\t\tcUser: '',\r\n\t\t\tyear: '',\r\n\t\t\tmonth: '',\r\n\t\t\tmonthName: '',\r\n\t\t\ttitle: '',\r\n\t\t\tcust: '',\r\n\t\t\tworker: '',\r\n\t\t\tadd: '',\r\n\t\t\tstime: '',\r\n\t\t\tetime: '',\r\n\t\t\tindex: 0,\r\n\t\t\tusers: [],\r\n\t\t\tlistmonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\"July\", \"August\", \"September\", \"October\", \"November\", \"December\"], \r\n\t\t\tlistdays: [],\r\n\t\t\tlistcust: [],\r\n\t\t\tlistwork: [],\r\n\t\t\tlistallapp: [],\r\n\t\t\tlistapp: []\r\n\t\t};\r\n\r\n\t\tthis.onClickDay = this.onClickDay.bind(this);\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\")) {\r\n\t\t\tthis.props.history.push('/')\r\n\t\t}\r\n\t\t\r\n\t\tlet d = new Date();\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tyear: d.getFullYear(),\r\n\t\t\tmonth: d.getMonth(),\r\n\t\t\tmonthName: this.state.listmonths[d.getMonth()]\r\n\t\t})\r\n\t\tthis.loadDays(d.getFullYear(), d.getMonth());\r\n\t}\r\n\r\n\tonClickDay(dn){\r\n\t\tlet dc = this.state.year+\"\"+this.state.month+\"\"+dn\r\n\r\n\t\tlet t = [];\r\n\t\tthis.state.listallapp.forEach(app => {\r\n\t\t\tlet cd = new Date(app.stime)\r\n\t\t\tcd = (cd.getFullYear()+''+cd.getMonth()+''+cd.getDate())\r\n\t\t\tif (cd == dc){\r\n\t\t\t\tt.push(app)\r\n\t\t\t\tconsole.log(app)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\r\n\t\t\r\n\t\tconsole.log('how long: '+t.length)\r\n\t\tif(t.length){\r\n\t\t\tthis.setState({ listapp : t,\r\n\t\t\t\t\ttitle: t[0].title,\r\n\t\t\t\t\tcust : this.state.listcust[t[0].custid],\r\n\t\t\t\t\tworker : this.state.listwork[t[0].userid],\r\n\t\t\t\t\tadd : this.state.listcust['add:'+t[0].custid],\r\n\t\t\t\t\tstime : t[0].stime,\r\n\t\t\t\t\tetime : t[0].etime,\r\n\t\t\t\t\tindex : 0,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\t\tthis.setState({ listapp : [],\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tcust : '',\r\n\t\t\t\t\tworker : '',\r\n\t\t\t\t\tadd : '',\r\n\t\t\t\t\tstime : '',\r\n\t\t\t\t\tetime : '',\r\n\t\t\t\t\tindex : 0,\r\n\t\t\t})\r\n\t\t}\r\n\t\t\t\t\r\n\t}\r\n\r\n\r\n\tcheckLoginSession() {\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'true') {\r\n\t\t\tthis.props.history.push(\"/Main\")\r\n\t\t}\r\n\t}\r\n\r\n\tcreateLoginSession() {\r\n\t\tconsole.log(this.state.user._id);\r\n\t\tlocalStorage.setItem(\"userId\", this.state.user._id);\r\n\t\tlocalStorage.setItem(\"isLoggedIn\", true);\r\n\t}\r\n\r\n\tloadDays(y, m){\r\n\t\tlet am = parseInt(m)+1\r\n\t\tconsole.log(y+\"-\"+am);\r\n\t\t\r\n\t\tconsole.log(y+\"-\"+m);\r\n\t\tlet date = new Date((y+\"-\"+am+'-1'));\r\n\t\tconsole.log(date)\r\n\t\tconsole.log(date.getDay());\r\n\t\tlet firstday = date.getDay(); \r\n\t\tlet d = new Date(y, am, 0).getDate();\r\n\t\tlet days = [];\r\n\t\tlet count = 0;\r\n\t\tconsole.log(\"day of week: \" + firstday)\r\n\t\tconsole.log((parseInt(m)-1))\r\n\t\tconsole.log(\"days: \" + d)\r\n\r\n\r\n\t\tfor (let i = 0; i < firstday; i++){\r\n\t\t\tdays.push({\r\n\t\t\t\t'num': '',\r\n\t\t\t\t'app': '',\r\n\t\t\t\t'color': 'no-day-square'\r\n\t\t\t})\r\n\t\t\tcount++\r\n\t\t\tconsole.log(count)\r\n\t\t}\r\n\r\n\t\tfor (let i=0; i < d; i++ ){\r\n\t\t\t\r\n\t\t\tdays.push({\r\n\t\t\t\t'num': i+1,\r\n\t\t\t\t'app': '',\r\n\t\t\t\t'color': 'empty-square'\r\n\t\t\t})\r\n\t\t\tcount++\r\n\r\n\t\t}\r\n\r\n\t\tlet d2 = 42-d-firstday;\t\r\n\t\tfor (let i=0; i < d2; i++){\r\n\t\t\tdays.push({\r\n\t\t\t\t'num': '',\r\n\t\t\t\t'app': '',\r\n\t\t\t\t'color': 'no-day-square'\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconsole.log(days)\r\n\t\tcount = 0;\r\n\t\tlet month = [];\r\n\t\r\n\r\n\r\n\r\n\r\n\t\taxios.get(this.state.path + ':5000/appointment/m/' + y + '/' + am + '/' + 1)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ listallapp: res.data})\r\n\t\t\t\tmonth = res.data\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tlet results ={};\r\n\r\n\r\n\t\t\t\tfor (let i=0; i< month.length; i++) {\r\n\r\n\t\t\t\t\tlet curDate = new Date(month[i].stime);\r\n\t\t\t\t\tlet date = [curDate.getFullYear(),curDate.getMonth(),curDate.getDate()].join(\"-\"); //creates yyyy-mm-dd\r\n\t\t\t\t\tresults[date] = results[date] || 0; //if results doens't exist, \r\n\t\t\t\t\tresults[date]++;\r\n\t\t\t\t}\r\n\t\t\t\tfor (let i in results) {\r\n\t\t\t\tif (results.hasOwnProperty(i)) {\r\n\t\t\t\t\tlet tdate = new Date(i);\r\n\t\t\t\t\tlet ind = tdate.getDate()+firstday-1;\r\n\t\t\t\t\tconsole.log(ind)\r\n\t\t\t\t\tdays[ind].app = 'Appointments: ' + results[i];\r\n\t\t\t\t\tdays[ind].color = 'filled-square'\r\n\r\n\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ listdays : days})\r\n\r\n\t\t\t\tlet custs = {};\r\n\r\n\r\n\t\t\t\taxios.get(this.state.path + ':5000/customer/')\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tres.data.forEach(cust => {\r\n\t\t\t\t\t\t\tcusts[cust._id] = cust.name;\r\n\t\t\t\t\t\t\tcusts[\"add:\" + cust._id] = cust.address;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tthis.setState({ listcust : custs})\r\n\t\t\t\t\t\tconsole.log(this.state.listcust['5ecb538a9d80159f14099481'])\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tlet workers = {}\r\n\t\t\t\taxios.get(this.state.path + ':5000/user/')\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tres.data.forEach(work => {\r\n\t\t\t\t\t\t\tif(work.type === 'Field Worker'){\r\n\t\t\t\t\t\t\t\tworkers[work._id] = work.username;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tworkers['null'] = 'null';\r\n\r\n\t\t\t\t\t\tthis.setState({ listwork : workers})\r\n\t\t\t\t\t\tconsole.log(this.state.listwork)\r\n\r\n\t\t\t\t\t\tconsole.log(this.state.listwork['5ecb538a9d80159f14099481'])\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\r\n\t\t\t})\r\n\t}\r\n\r\n\tchangeMonth(val){\r\n\t\tlet y = this.state.year; const m = parseInt(this.state.month)+1;\r\n\t\tconsole.log(y+'-'+m+'-1')\r\n\t\tlet newdate = new Date(y+'-'+m+'-1')\r\n\t\tconsole.log(newdate)\r\n\t\tnewdate.setMonth(newdate.getMonth()+val)\r\n\t\t\r\n\r\n\t\tlet date = new Date(y+'-'+(m+val+1)+'-1');\r\n\t\tconsole.log('monthnum: ' + (m+val))\r\n\t\tconsole.log(newdate)\r\n\t\tthis.setState(\r\n\t\t\t{\r\n\t\t\t\tyear : newdate.getFullYear(),\r\n\t\t\t\tmonth : newdate.getMonth(),\r\n\t\t\t\tmonthName : this.state.listmonths[newdate.getMonth()]\r\n\t\t\t}\r\n\t\t)\r\n\t\tthis.loadDays(newdate.getFullYear(), newdate.getMonth())\r\n\r\n\t}\r\n\t\r\n\tchangeApp(val){\r\n\t\tif(this.state.index+val < 0){return}\r\n\t\tif(this.state.index+val >= this.state.listapp.length ){return}\r\n\t\tconsole.log(this.state.listwork[this.state.listapp[this.state.index+val].userid])\r\n\t\tthis.setState(\r\n\t\t\t{\r\n\t\t\t\ttitle: this.state.listapp[this.state.index+val].title,\r\n\t\t\t\tcust : this.state.listcust[this.state.listapp[this.state.index+val].custid],\r\n\t\t\t\tworker : this.state.listwork[this.state.listapp[this.state.index+val].userid],\r\n\t\t\t\tadd : this.state.listcust['add:'+this.state.listapp[this.state.index+val].custid],\r\n\t\t\t\tstime : this.state.listapp[this.state.index+val].stime,\r\n\t\t\t\tetime : this.state.listapp[this.state.index+val].etime,\r\n\t\t\t\tindex : this.state.index+val,\r\n\r\n\t\t\t}\r\n\r\n\t\t)\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar/>\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row p-0\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border recent p-0 no-day-square d-none d-lg-block\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.listapp.map((app, index) => (\r\n\t\t\t\t\t\t\t\t\t<div className=\"app-list-border\">\r\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"app-list-border filled-square m-0\">Title: {app.title}</h3>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Customer: {this.state.listcust[app.custid]}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Contracter: {this.state.listwork[app.userid]}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Address: {this.state.listcust['add:'+app.custid]}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Timeframe: {(new Date(app.stime)).toLocaleTimeString()} - {(new Date(app.etime)).toLocaleTimeString()}</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border recent no-day-square d-md-block d-lg-none  \">\r\n\t\t\t\t\t\t<div className=\"row p-0\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 p-0\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeApp(-1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-left\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M5.854 4.646a.5.5 0 0 1 0 .708L3.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2.5 8a.5.5 0 0 1 .5-.5h10.5a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-10 p-0\">\r\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"app-list-border filled-square m-0\">Title: {this.state.title}</h3>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Customer: {this.state.cust}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Contracter: {this.state.worker}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Address: {this.state.add}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Timeframe: {(new Date(this.state.stime)).toLocaleTimeString()} - {(new Date(this.state.etime)).toLocaleTimeString()} </div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 p-0\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeApp(1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-right\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M10.146 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L12.793 8l-2.647-2.646a.5.5 0 0 1 0-.708z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2 8a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-9 border border-left-0 calendar \">\r\n\t\t\t\t\t\t\t<div className=\"row p-0\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 p-0\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeMonth(-1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-left\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M5.854 4.646a.5.5 0 0 1 0 .708L3.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2.5 8a.5.5 0 0 1 .5-.5h10.5a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-10\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"display-4 mb-4 text-center\">{this.state.monthName + ' ' +this.state.year}</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 p-0\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeMonth(1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-right\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M10.146 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L12.793 8l-2.647-2.646a.5.5 0 0 1 0-.708z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2 8a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<div className=\"row d-none d-md-flex p-1 bg-dark text-white\">\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Sunday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Monday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Tuesday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Wednesday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Thursday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Friday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Saturday</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t\t<div className=\"calendar-days row\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.listdays.map((day, index) => (\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={day.color + \" square border\"} key={index} name={day.num} onClick={() => this.onClickDay(day.num)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"table\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"table-cell\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"daynum\">{day.num}</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"appnum\">{day.app}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default main;\r\n","import React, { Component } from 'react';\r\nclass Top extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\twindow.addEventListener('scroll', this.handleScroll);\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('scroll', this.handleScroll);\r\n\t}\r\n\t\r\n\r\n\thandleScroll() {\r\n\t\tlet top = document.getElementById(\"top\");\r\n\t\tif (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\r\n\t\t  top.style.display = \"block\";\r\n\t\t} else {\r\n\t\t  top.style.display = \"none\";\r\n\t\t  \r\n\t\t}\r\n\t  }\r\n\t  \r\n\t  // When the user clicks on the button, scroll to the top of the document\r\n \ttoTop() {\r\n\t\tdocument.body.scrollTop = 0;\r\n\t\tdocument.documentElement.scrollTop = 0;\r\n\t  }\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<button className=\"btn btn-primary d-none d-sm-block d-md-none btn-top\" id=\"top\" onClick={this.toTop}>\r\n\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-up-square\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path fill-rule=\"evenodd\" d=\"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\r\n\t\t\t\t<path fill-rule=\"evenodd\" d=\"M4.646 8.354a.5.5 0 0 0 .708 0L8 5.707l2.646 2.647a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 0 .708z\"/>\r\n\t\t\t\t<path fill-rule=\"evenodd\" d=\"M8 11.5a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-1 0v5a.5.5 0 0 0 .5.5z\"/>\r\n\t\t\t\t</svg>\r\n\t\t\t</button>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Top;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from './../routes/nav';\r\nimport Top from './../routes/top';\r\n\r\n\r\n\r\nclass users extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\tcrudState: 0,\r\n\t\t\tselected: '',\r\n\t\t\tuser: '',\r\n\t\t\ttype: 'Admin',\r\n\t\t\tpass: '',\r\n\t\t\tcPass: '',\r\n\t\t\teditUser: '',\r\n\t\t\tlbutton: 'Save',\r\n\t\t\trbutton: 'Cancel',\r\n\t\t\tselCrud: 'option1',\r\n\t\t\tselectedName: '',\r\n\t\t\tselectedIndex: 0,\r\n\t\t\tdisabled: false,\r\n\t\t\theader: 'Create New User',\r\n\t\t\tusers: [],\r\n\t\t\terror: '',\r\n\t\t\truntest: false\r\n\t\t};\r\n\r\n\t\tthis.onSubmit = this.onSubmit.bind(this);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.onCancel = this.onCancel.bind(this);\r\n\r\n\t\tthis.handleCrudChange = this.handleCrudChange.bind(this);\r\n\t\tthis.handleUserChange = this.handleUserChange.bind(this);\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\") || localStorage.getItem(\"userType\") !== \"Admin\") {\r\n\t\t\tif(this.props.history !== undefined){this.props.history.push('/')}\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tthis.getAllUsers();\r\n\t}\r\n\r\n\r\n\tcrudRefresh(o,n) {\r\n\t\tdocument.getElementById(\"lbloption\"+o).classList.remove('focus');\r\n\t\tdocument.getElementById(\"lbloption\"+o).classList.remove('active');\r\n\t\tdocument.getElementById(\"lbloption\"+n).classList.add('focus');\r\n\t\tdocument.getElementById(\"lbloption\"+n).classList.add('active');\r\n\t\tthis.setState({\r\n\t\t\tlbutton: 'Save',\r\n\t\t\tdisabled: false\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\r\n\r\n\thandleUserChange(event) {\r\n\t\tlet i = event.target.value;\r\n\t\r\n\r\n\t\tif (this.state.selCrud === 'option1') {\r\n\t\t\tthis.crudRefresh(1, 2);\r\n\t\t\tthis.setState({\r\n\t\t\t\tselCrud: 'option2'\r\n\t\t\t});\r\n\t\t}else if (this.state.selCrud === 'option3') {\r\n\t\t\tthis.crudRefresh(3, 2);\r\n\t\t\tthis.setState({\r\n\t\t\t\tselCrud: 'option2'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//needs to read from database and put in the information \r\n\r\n\r\n\t\taxios.get(this.state.path + ':5000/user/' + this.state.users[i]._id)\r\n\t\t\t.then((res) => {\r\n\r\n\t\t\t\tthis.setState({ editUser: res.data });\r\n\t\t\t}).finally(() => {\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tuser: this.state.editUser.username,\r\n\t\t\t\t\ttype: this.state.editUser.type,\r\n\t\t\t\t\tpass: '',\r\n\t\t\t\t\tcPass: '',\r\n\t\t\t\t\tselectedName: \"user\" + i,\r\n\t\t\t\t\tselectedIndex: i,\r\n\t\t\t\t\tcrudState: 2\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\r\n\t\t\r\n\t}\r\n\r\n\thandleTestReset(){\r\n\t\tlet check = \"\"\r\n\t\tlet flag = false\r\n\t\taxios.get(this.state.path + ':5000/user/u/TestDataDeleteMe')\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.data !== null) {// as long as something is there\r\n\t\t\t\t\t\t\tcheck = res.data._id;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}).finally(() => { \r\n\t\t\t\t\t\tif(flag === true){return}\r\n\t\t\t\t\t\taxios.delete(this.state.path + ':5000/user/' + check)\r\n\t\t\t\t\t\t\t.then(() => {\r\n\r\n\t\t\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\t\t\tthis.getAllUsers();\r\n\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t}\r\n\r\n\thandleCrudChange(event) {\r\n\t\tconsole.log(\"current select:\" + event.target.value)\r\n\r\n\t\tif (event.target.value === 'option1') {\r\n\r\n\t\t\tconsole.log('save time')\r\n\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t\t\t\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tuser: '',\r\n\t\t\t\ttype: 'Admin',\r\n\t\t\t\tpass: '',\r\n\t\t\t\tcPass: '',\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tselectedName : '',\r\n\t\t\t\tselectedIndex : -1,\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcrudState: 0\r\n\t\t\t});\r\n\r\n\t\t} else if (event.target.value === 'option2') {\r\n\t\t\tif (this.state.selectedName === '') {\r\n\t\t\t\tthis.setState({ error: 'ERROR: Please select user before attempting to edit a user.' })\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\tthis.crudRefresh(2,1)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlbutton: 'Save',\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tcrudState: 0\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('save time')\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcrudState: 2\r\n\t\t\t});\r\n\r\n\r\n\t\t}else {\r\n\t\t\tif (this.state.selectedName === '') {\r\n\t\t\t\tthis.setState({ error: 'ERROR: Please select user before attempting to delete a user.' })\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\tthis.crudRefresh(3, 1)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlbutton: 'Save',\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tcrudState: 0\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('sdel time')\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Delete',\r\n\t\t\t\tdisabled: true,\r\n\t\t\t\tcrudState: 3\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tselCrud: event.target.value\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tthis.setState({ error: '' })\r\n\t\r\n\t\ttry{\r\n\t\t\tif (this.state.user === '' && this.state.crudState !== 3) throw \"ERROR: Username was left blank.\"\r\n\t\t\tif (this.state.pass === '' && this.state.crudState !== 3) throw \"ERROR: Password was left blank.\"\r\n\t\t\tif (this.state.cPass === '' && this.state.crudState !== 3) throw \"ERROR: Confirm Password was left blank.\"\r\n\t\t\tif (this.state.cPass !== this.state.pass && this.state.crudState !== 3) throw \"ERROR: Passwords do not match.\"\r\n\t\t}\r\n\t\tcatch(err){\r\n\t\t\tthis.setState({ error: err })\r\n\t\t\tif (document.getElementById(\"error\") !== null) {\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\r\n\t\t//database section\r\n\t\tthis.crudUse();\r\n\r\n\t\t//Success section\r\n\t\tif (document.getElementById(\"error\") !== null) {\r\n\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tuser: '',\r\n\t\t\ttype: this.state.editUser.type,\r\n\t\t\tpass: '',\r\n\t\t\tcPass: '',\r\n\t\t\tselectedName: this.state.editUser.username\r\n\t\t});\r\n\r\n\r\n\t}\r\n\r\n\tonCancel() {\r\n\t\tconsole.log(\"Cancel called: lbl\" + this.state.selectedName);\r\n\t\tif (this.state.selectedName !== '') {\r\n\t\t\tdocument.getElementById(\"lbl\" + this.state.selectedName).classList.remove('focus');\r\n\t\t\tdocument.getElementById(\"lbl\" + this.state.selectedName).classList.remove('active');\r\n\t\t}\r\n\r\n\t\tif (this.state.selCrud === 'option2') {\r\n\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\tthis.crudRefresh(2, 1);\r\n\t\t} else if (this.state.selCrud === 'option3') {\r\n\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\tthis.crudRefresh(3, 1);\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tdisabled: false\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\tthis.setState({\r\n\t\t\tuser: '',\r\n\t\t\ttype: 'Admin',\r\n\t\t\tpass: '',\r\n\t\t\tcPass: '',\r\n\t\t\tselectedName: ''\r\n\t\t});\r\n\t\tconsole.log(document.getElementById(\"error\"))\r\n\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t}\r\n\r\n\tonChange(event) {\r\n\t\tconsole.log(\"eventname: \" + event.target.name);\r\n\t\tconst state = this.state\r\n\t\tstate[event.target.name] = event.target.value;\r\n\t\tthis.setState(state);\r\n\t}\r\n\r\n\t//[CRUD Functions] - User\r\n\tgetAllUsers() {\r\n\t\t//this.setState({ users: [] })\r\n\r\n\r\n\t\taxios.get(this.state.path + ':5000/user/')\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({ users: res.data });\r\n\t\t\t}).finally(()=>{\r\n\t\t\t\tif(localStorage.getItem(\"docid\")){\r\n\t\t\t\t\tconsole.log(this.state.users.findIndex(i => i._id === localStorage.getItem(\"docid\")))\r\n\t\t\t\t\tlet i = this.state.users.findIndex(i => i._id === localStorage.getItem(\"docid\"))\r\n\t\t\t\t\tconsole.log(localStorage.getItem(\"docid\"))\r\n\t\t\t\t\taxios.get(this.state.path + ':5000/user/' + localStorage.getItem(\"docid\"))\r\n\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\tthis.setState({ editUser: res.data });\r\n\t\t\t\t\t\t\t}).finally(()=>{\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tuser: this.state.editUser.username,\r\n\t\t\t\t\t\t\t\t\ttype: this.state.editUser.type,\r\n\t\t\t\t\t\t\t\t\tpass: '',\r\n\t\t\t\t\t\t\t\t\tcPass: '',\r\n\t\t\t\t\t\t\t\t\tselectedName: this.state.editUser.username,\r\n\t\t\t\t\t\t\t\t\tcrudState: 2,\r\n\t\t\t\t\t\t\t\t\tselectedIndex: i\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tconsole.log(\"test: \" + this.state.selectedIndex)\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+1).classList.remove('focus');\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+1).classList.remove('active');\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+2).classList.add('focus');\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+2).classList.add('active');\r\n\t\t\t\t\t\t})\r\n\t\t\r\n\t\t\t\t\tlocalStorage.removeItem(\"docid\")\r\n\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tcrudUse() {\r\n\r\n\t\tconst username = this.state.user\r\n\t\tconst type = this.state.type\r\n\t\tconst password = this.state.pass\r\n\t\tlet createdBy = localStorage.getItem(\"username\")\r\n\t\tconst updatedBy = localStorage.getItem(\"username\")\r\n\t\tconst updatedDate = new Date();\r\n\t\tlet createdDate = new Date();\r\n\t\tconsole.log(\"test this mess: \" + updatedBy)\r\n\t\t\r\n\t\tswitch (this.state.crudState) {\r\n\t\t\tcase 0: //create\r\n\t\t\t\t//created then updated\r\n\t\t\t\tlet check;\r\n\t\t\t\t\r\n\t\t\t\taxios.get(this.state.path + ':5000/user/u/' + username)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.data !== null) {// as long as something is there\r\n\t\t\t\t\t\t\tcheck = res.data.username;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\tif (check === username) {// as long as something is there\r\n\t\t\t\t\t\t\tthis.setState({ error: \"Username already exists.\" });\r\n\t\t\t\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\taxios.post(this.state.path + ':5000/user/', { username, type, password, createdBy, updatedBy, createdDate, updatedDate })\r\n\t\t\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\t\t\tthis.getAllUsers();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1: //read\r\n\r\n\t\t\t\taxios.get(this.state.path + ':5000/user/' + this.state.users[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((res) => {\r\n\r\n\t\t\t\t\t\tthis.state({ editUser: res.data });\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2: //update\r\n\t\t\t\t\tcreatedBy = this.state.editUser.createdBy\r\n\t\t\t\t\tcreatedDate = this.state.editUser.createdDate\r\n\t\t\t\t\r\n\t\t\t\taxios.put(this.state.path + ':5000/user/' + this.state.users[this.state.selectedIndex]._id, { username, type, password, createdBy, updatedBy, createdDate, updatedDate })\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t//call refresh func\r\n\t\t\t\t\t\tthis.getAllUsers();\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3: //delete\r\n\t\t\t\taxios.delete(this.state.path + ':5000/user/' + this.state.users[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((result) => {\r\n\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\tthis.getAllUsers();\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<Top />\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border d-none d-lg-block recent height-cap\">\r\n\t\t\t\t\t\t\t<div className=\"row btn-group btn-group-toggle btn-group-special btn-group-vertical force-scroll\" data-toggle=\"buttons\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.users.map((user, index) => (\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<label id={'lbluser' + index} className=\"btn btn-secondary w-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input  type=\"radio\" name=\"user\" id={'user' + index} value={index} onClick={this.handleUserChange}  />\r\n\t\t\t\t\t\t\t\t\t\t\t<div>{user.username}</div>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-9 border calendar \">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"btn-group btn-group-toggle w-100\" data-toggle=\"buttons\" >\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption1\" className=\"btn btn-secondary active\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option1\" value=\"option1\" checked={this.state.selCrud === 'option1'} onClick={this.handleCrudChange} /> New\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption2\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option2\" value=\"option2\" checked={this.state.selCrud === 'option2'} onClick={this.handleCrudChange}/> Save\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption3\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option3\" value=\"option3\" checked={this.state.selCrud === 'option3'} onClick={this.handleCrudChange}/> Delete\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h5 className=\"text-center\">{this.state.header}</h5>\r\n\t\t\t\t\t\t\t<div className=\"alert alert-danger d-none\" id=\"error\" role=\"alert\">\r\n\t\t\t\t\t\t\t\t{this.state.error}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Username</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"user\" value={this.state.user} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Permission Type</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<select className=\"form-control\" name='type' value={this.state.type} onChange={this.onChange} disabled={this.state.disabled} id=\"type\">\r\n\t\t\t\t\t\t\t\t\t<option>Admin</option>\r\n\t\t\t\t\t\t\t\t\t<option>Dispatcher</option>\r\n\t\t\t\t\t\t\t\t\t<option>Field Worker</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Password</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"password\" name=\"pass\" value={this.state.pass} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >Confirm Password</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"password\" name=\"cPass\" value={this.state.cPass} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" onClick={this.onSubmit}>{this.state.lbutton}</button> <button type=\"button\" className=\"btn btn-primary\" onClick={this.onCancel}>{this.state.rbutton}</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col border user d-lg-none \">\r\n\t\t\t\t\t\t\t<div className=\"row btn-group btn-group-toggle btn-group-special btn-group-vertical\" data-toggle=\"buttons\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.users.map((user, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<label id={'lbluser' + index} className=\"btn btn-secondary w-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input  type=\"radio\" name=\"user\" id={'user' + index} value={index} onClick={this.handleUserChange}  />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>{user.username}</div>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default users;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from './../routes/nav';\r\nimport Top from './../routes/top';\r\n\r\n\r\n\r\nclass customers extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\tcrudState: 0,\r\n\t\t\tselected: '',\r\n\t\t\tcUser: '',\r\n\t\t\tuid: '',\r\n\t\t\tname: '',\r\n\t\t\taddress: '',\r\n\t\t\taddress2: '',\r\n\t\t\tcity: '',\r\n\t\t\tzip: '',\r\n\t\t\tphone: '',\r\n\t\t\tedit: '',\r\n\t\t\tlbutton: 'Save',\r\n\t\t\trbutton: 'Cancel',\r\n\t\t\tselCrud: 'option1',\r\n\t\t\tselectedName: '',\r\n\t\t\tselectedIndex: 0,\r\n\t\t\tdisabled: false,\r\n\t\t\theader: 'Create New Customer',\r\n\t\t\tdocuments: [],\r\n\t\t\terror: '',\r\n\t\t\ttest: []\r\n\t\t};\r\n\r\n\t\tthis.onSubmit = this.onSubmit.bind(this);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.onCancel = this.onCancel.bind(this);\r\n\r\n\t\tthis.handleCrudChange = this.handleCrudChange.bind(this);\r\n\t\tthis.handleEditChange = this.handleEditChange.bind(this);\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconsole.log(localStorage.getItem(\"userType\") === \"\")\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\") || localStorage.getItem(\"userType\") === \"Field Worker\") {\r\n\t\t\tif(this.props.history !== undefined){this.props.history.push('/')}\r\n\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tthis.setState({\r\n\t\t\tcUser: localStorage.getItem(\"currentUser\"),\r\n\t\t\tuid: localStorage.getItem(\"userId\")\r\n\t\t})\r\n\t\tthis.getAllDocuments();\r\n\t}\r\n\r\n\r\n\tcrudRefresh(o, n) {\r\n\t\tdocument.getElementById(\"lbloption\" + o).classList.remove('focus');\r\n\t\tdocument.getElementById(\"lbloption\" + o).classList.remove('active');\r\n\t\tdocument.getElementById(\"lbloption\" + n).classList.add('focus');\r\n\t\tdocument.getElementById(\"lbloption\" + n).classList.add('active');\r\n\t\tthis.setState({\r\n\t\t\tlbutton: 'Save',\r\n\t\t\tdisabled: false\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\r\n\tinputReset() {\r\n\t\tthis.setState({\r\n\t\t\tname: '',\r\n\t\t\taddress: '',\r\n\t\t\taddress2: '',\r\n\t\t\tcity: '',\r\n\t\t\tzip: '',\r\n\t\t\tphone: ''\r\n\t\t});\r\n\t}\r\n\r\n\tinputFill(n, a, a2, c, z, p) {\r\n\t\tthis.setState({\r\n\t\t\tname: n,\r\n\t\t\taddress: a,\r\n\t\t\taddress2: a2,\r\n\t\t\tcity: c,\r\n\t\t\tzip: z,\r\n\t\t\tphone: p\r\n\t\t});\r\n\t}\r\n\r\n\r\n\thandleEditChange(event) {\r\n\t\tlet i = event.target.value;\r\n\r\n\r\n\t\tif (this.state.selCrud === 'option1') {\r\n\t\t\tthis.crudRefresh(1, 2);\r\n\t\t\tthis.setState({\r\n\t\t\t\tselCrud: 'option2'\r\n\t\t\t});\r\n\t\t} else if (this.state.selCrud === 'option3') {\r\n\t\t\tthis.crudRefresh(3, 2);\r\n\t\t\tthis.setState({\r\n\t\t\t\tselCrud: 'option2'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\taxios.get(this.state.path + ':5000/customer/' + this.state.documents[i]._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(\"t\" + res.data.name)\r\n\t\t\t\tthis.setState({ edit: res.data });\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tconsole.log(\"t2\" + this.state.edit.name)\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tname: this.state.edit.name,\r\n\t\t\t\t\taddress: this.state.edit.address,\r\n\t\t\t\t\taddress2: this.state.edit.address2,\r\n\t\t\t\t\tcity: this.state.edit.city,\r\n\t\t\t\t\tzip: this.state.edit.zip,\r\n\t\t\t\t\tphone: this.state.edit.phone,\r\n\t\t\t\t\tselectedName: \"customer\" + i,\r\n\t\t\t\t\tselectedIndex: i,\r\n\t\t\t\t\tcrudState: 2\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\r\n\t}\r\n\r\n\thandleCrudChange(event) {\r\n\r\n\t\tif (event.target.value === 'option1') {\r\n\r\n\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t\t\tthis.inputReset();\r\n\r\n\t\t\tthis.setState({\r\n\t\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tselectedName: '',\r\n\t\t\t\tselectedIndex: -1,\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcrudState: 0\r\n\t\t\t});\r\n\r\n\t\t} else if (event.target.value === 'option2') {\r\n\t\t\tif (this.state.selectedName === '') {\r\n\t\t\t\tthis.setState({ error: 'ERROR: Please select user before attempting to edit a user.' })\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\tthis.crudRefresh(2, 1)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlbutton: 'Save',\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tcrudState: 0\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('save time')\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcrudState: 2\r\n\t\t\t});\r\n\r\n\r\n\t\t} else {\r\n\t\t\tif (this.state.selectedName === '') {\r\n\t\t\t\tthis.setState({ error: 'ERROR: Please select user before attempting to delete a user.' })\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\tthis.crudRefresh(3, 1)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlbutton: 'Save',\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tcrudState: 0\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('sdel time')\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Delete',\r\n\t\t\t\tdisabled: true,\r\n\t\t\t\tcrudState: 3\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tselCrud: event.target.value\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tthis.setState({ error: '' })\r\n\t\ttry{\r\n\t\t\tif (this.state.name === '' && this.state.crudState !== 3) throw \"ERROR: Name was left blank.\"\r\n\t\t\tif (this.state.address === '' && this.state.crudState !== 3) throw \"ERROR: Address was left blank.\"\r\n\t\t\tif (this.state.city === '' && this.state.crudState !== 3) throw \"ERROR: City was left blank.\"\r\n\t\t\tif (this.state.zip === '' && this.state.crudState !== 3) throw \"ERROR: Zip was left blank.\"\r\n\t\t\tif (this.state.phone === '' && this.state.crudState !== 3) throw \"ERROR: Phone number was left blank.\"\r\n\t\t}\r\n\t\tcatch(err){\r\n\t\t\tthis.setState({ error: err })\r\n\t\t\tif(document.getElementById(\"error\") !== null){\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//database section\r\n\t\tthis.crudUse();\r\n\r\n\t\t//Success section\r\n\t\tif(document.getElementById(\"error\") !== null){\r\n\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\t\t}\r\n\r\n\t\tthis.inputReset();\r\n\r\n\t\tthis.setState({\r\n\t\t\tselectedName: this.state.edit.name\r\n\t\t});\r\n\r\n\r\n\t}\r\n\r\n\tonCancel(event) {\r\n\t\tconsole.log(\"Cancel called: lbl\" + this.state.selectedName);\r\n\t\tif (this.state.selectedName !== '') {\r\n\t\t\tdocument.getElementById(\"lbl\" + this.state.selectedName).classList.remove('focus');\r\n\t\t\tdocument.getElementById(\"lbl\" + this.state.selectedName).classList.remove('active');\r\n\t\t}\r\n\r\n\t\tif (this.state.selCrud === 'option2') {\r\n\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\tthis.crudRefresh(2, 1);\r\n\t\t} else if (this.state.selCrud === 'option3') {\r\n\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\tthis.crudRefresh(3, 1);\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tdisabled: false\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.inputReset();\r\n\r\n\r\n\t\tthis.setState({\r\n\t\t\tselectedName: ''\r\n\t\t});\r\n\r\n\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t}\r\n\r\n\tonChange(event) {\r\n\t\tconst state = this.state\r\n\t\tstate[event.target.name] = event.target.value;\r\n\t\tthis.setState(state);\r\n\t}\r\n\r\n\t//[CRUD Functions] - User\r\n\tgetAllDocuments() {\r\n\t\taxios.get(this.state.path + ':5000/customer/')\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({ documents: res.data });\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tif(localStorage.getItem(\"docid\")){\r\n\t\t\t\t\tlet i = this.state.documents.findIndex(i => i._id === localStorage.getItem(\"docid\"))\r\n\t\t\t\t\tconsole.log(localStorage.getItem(\"docid\"))\r\n\r\n\t\t\t\t\taxios.get(this.state.path + ':5000/customer/' + localStorage.getItem(\"docid\"))\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\r\n\t\t\t\t\t\t\tthis.setState({ edit: res.data });\r\n\t\t\t\t\t\t}).finally(() =>{\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tname: this.state.edit.name,\r\n\t\t\t\t\t\t\t\taddress: this.state.edit.address,\r\n\t\t\t\t\t\t\t\taddress2: this.state.edit.address2,\r\n\t\t\t\t\t\t\t\tcity: this.state.edit.city,\r\n\t\t\t\t\t\t\t\tzip: this.state.edit.zip,\r\n\t\t\t\t\t\t\t\tphone: this.state.edit.phone,\r\n\t\t\t\t\t\t\t\tcrudState: 2,\r\n\t\t\t\t\t\t\t\tselectedName: \"customer\" + i,\r\n\t\t\t\t\t\t\t\tselectedIndex: i\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+1).classList.remove('focus');\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+1).classList.remove('active');\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+2).classList.add('focus');\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+2).classList.add('active');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"docid\")\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tcrudUse() {\r\n\r\n\t\tconst uid = this.state.uid\r\n\t\tconst name = this.state.name\r\n\t\tconst address = this.state.address\r\n\t\tconst address2 = this.state.address2\r\n\t\tconst city = this.state.city\r\n\t\tconst zip = this.state.zip\r\n\t\tconst phone = this.state.phone\r\n\t\tlet createdBy = localStorage.getItem(\"username\")\r\n\t\tconst updatedBy = localStorage.getItem(\"username\")\r\n\t\tconst updatedDate = new Date();\r\n\t\tlet createdDate = new Date();\r\n\t\tswitch (this.state.crudState) {\r\n\t\t\tcase 0: //create\r\n\t\t\t\t//created then updated\r\n\r\n\t\t\t\taxios.post(this.state.path + ':5000/customer/', { uid, name, address, address2, city, zip, phone, createdBy, updatedBy, createdDate, updatedDate })\r\n\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\tthis.getAllDocuments();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1: //read\r\n\r\n\t\t\t\taxios.get(this.state.path + ':5000/customer/' + this.state.documents[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((res) => {\r\n\r\n\t\t\t\t\t\tthis.state({ edit: res.data });\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2: //update\r\n\r\n\t\t\t\taxios.get(this.state.path + ':5000/customer/' + this.state.documents[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((res) => {\r\n\r\n\t\t\t\t\t\tcreatedBy = res.data.createdBy;\r\n\t\t\t\t\t\tcreatedDate = res.data.createdDate;\r\n\t\t\t\t\t}).finally(() => {\r\n\r\n\t\t\t\t\t\taxios.put(this.state.path + ':5000/customer/' + this.state.documents[this.state.selectedIndex]._id, {uid, name, address, address2, city, zip, phone, createdBy, updatedBy, createdDate, updatedDate })\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t}).finally(() => {\r\n\r\n\t\t\t\t\t\t\t\t//call refresh func\r\n\t\t\t\t\t\t\t\tthis.getAllDocuments();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3: //delete\r\n\t\t\t\taxios.delete(this.state.path + ':5000/customer/' + this.state.documents[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((result) => {\r\n\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\tthis.getAllDocuments();\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<Top />\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border d-none d-lg-block recent height-cap\">\r\n\t\t\t\t\t\t\t<div className=\"row btn-group btn-group-toggle btn-group-special btn-group-vertical force-scroll\" data-toggle=\"buttons\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.documents.map((document, index) => (\r\n\r\n\t\t\t\t\t\t\t\t\t\t<label key={'customer'+index} id={'lbluser' + index} className=\"btn btn-secondary w-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"user\" id={'user' + index} value={index} onClick={this.handleEditChange} />{document.name}\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-9 border input-col \">\r\n\t\t\t\t\t\t\t<div className=\"btn-group btn-group-toggle w-100\" data-toggle=\"buttons\" >\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption1\" className=\"btn btn-secondary active\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option1\" value=\"option1\"  onClick={this.handleCrudChange} /> New\r\n\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption2\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option2\" value=\"option2\"  onClick={this.handleCrudChange} /> Save\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption3\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option3\" value=\"option3\"  onClick={this.handleCrudChange} /> Delete\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t<h5 className=\"text-center\">{this.state.header}</h5>\r\n\t\t\t\t\t\t\t<div className=\"alert alert-danger d-none\" id=\"error\" role=\"alert\">\r\n\t\t\t\t\t\t\t\t{this.state.error}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Name</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"name\" value={this.state.name} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Address</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"address\" value={this.state.address} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >Address 2</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"address2\" value={this.state.address2} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >City</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"city\" value={this.state.city} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >Zip</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"zip\" value={this.state.zip} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >Phone</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"phone\" value={this.state.phone} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" onClick={this.onSubmit}>{this.state.lbutton}</button> <button type=\"button\" className=\"btn btn-primary\" onClick={this.onCancel}>{this.state.rbutton}</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col border user d-lg-none \">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.documents.map((document, index) => (\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row namelist\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-secondary btn-lg btn-block\">{document.name}</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default customers;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from './../routes/nav';\r\nimport Top from './../routes/top';\r\n\r\n\r\nclass appointments extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\tcrudState: 0,\r\n\t\t\tselected: '',\r\n\t\t\tcUser: '',\r\n\t\t\tuid: '',\r\n\t\t\tcid: '',\r\n\t\t\ttitle: '',\r\n\t\t\trate: '',\r\n\t\t\tsupply: '',\r\n\t\t\ttotal: '',\r\n\t\t\thours: '',\r\n\t\t\toverlap: false,\r\n\t\t\ttype: 'rout',\r\n\t\t\ttasks: '',\r\n\t\t\tnotes: '',\r\n\t\t\tedit: '',\r\n\t\t\tlbutton: 'Save',\r\n\t\t\trbutton: 'Cancel',\r\n\t\t\tselCrud: 'option1',\r\n\t\t\tselectedName: '',\r\n\t\t\tselectedIndex: 0,\r\n\t\t\tdisabled: false,\r\n\t\t\theader: 'Create New Appointmennt',\r\n\t\t\tdocuments: [],\r\n\t\t\tcustomers: [],\r\n\t\t\tworkers: [],\r\n\t\t\tcustid: '',\r\n\t\t\tworkerid: '',\r\n\t\t\tworkername: '',\r\n\t\t\tselCust: '',\r\n\t\t\tselCustId: '',\r\n\t\t\terror: '',\r\n\t\t\ttest2: 2,\r\n\t\t\ttest: []\r\n\t\t};\r\n\r\n\t\tthis.onSubmit = this.onSubmit.bind(this);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.onSelect = this.onSelect.bind(this);\r\n\r\n\t\tthis.onCancel = this.onCancel.bind(this);\r\n\t\tthis.onChecked = this.onChecked.bind(this);\r\n\r\n\r\n\t\tthis.handleCrudChange = this.handleCrudChange.bind(this);\r\n\t\tthis.handleAppChange = this.handleAppChange.bind(this);\r\n\t\tthis.handleCustomerChange = this.handleCustomerChange.bind(this);\r\n\t\tthis.handleEditChange = this.handleEditChange.bind(this);\r\n\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconsole.log(this.state.path)\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\") || localStorage.getItem(\"userType\") === \"Field Worker\") {\r\n\t\t\tif(this.props.history !== undefined){this.props.history.push('/')}\r\n\r\n\t\t}\r\n\r\n\t\tthis.getAllDocuments();\r\n\t\tthis.getAllCustomers();\r\n\t\tthis.getAllWorkers();\r\n\r\n\t}\r\n\r\n\tcrudRefresh(o, n) {\r\n\t\tdocument.getElementById(\"lbloption\" + o).classList.remove('focus');\r\n\t\tdocument.getElementById(\"lbloption\" + o).classList.remove('active');\r\n\t\tdocument.getElementById(\"lbloption\" + n).classList.add('focus');\r\n\t\tdocument.getElementById(\"lbloption\" + n).classList.add('active');\r\n\t\tthis.setState({\r\n\t\t\tlbutton: 'Save',\r\n\t\t\tdisabled: false\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\r\n\ttypeRefresh(o, n) {\r\n\t\tdocument.getElementById(\"lbltype\" + o).classList.remove('focus');\r\n\t\tdocument.getElementById(\"lbltype\" + o).classList.remove('active');\r\n\t\tdocument.getElementById(\"lbltype\" + n).classList.add('focus');\r\n\t\tdocument.getElementById(\"lbltype\" + n).classList.add('active');\r\n\t}\r\n\r\n\tgetTypeVal(s) {\r\n\t\tlet val = '';\r\n\t\tswitch (s) {\r\n\t\t\tcase \"rout\":\r\n\t\t\t\tval = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"cons\":\r\n\t\t\t\tval = 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"spec\":\r\n\t\t\t\tval = 3;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn val;\r\n\t}\r\n\tinputReset() {\r\n\t\tthis.setState({\r\n\t\t\tworkerid: '',\r\n\t\t\tworkername: '',\r\n\t\t\tcid: '',\r\n\t\t\ttitle: '',\r\n\t\t\tdate: '',\r\n\t\t\tstime: '',\r\n\t\t\tetime: '',\r\n\t\t\trate: '',\r\n\t\t\tsupply: '',\r\n\t\t\ttotal: '',\r\n\t\t\thours: '',\r\n\t\t\ttasks: '',\r\n\t\t\tnotes: ''\r\n\t\t});\r\n\t}\r\n\r\n\tlzMinute(dt){\r\n\t\treturn (dt.getMinutes() < 10 ? '0' : '') + dt.getMinutes();\r\n\t}\r\n\r\n\tlzHour(dt){\r\n\t\treturn (dt.getHours() < 10 ? '0' : '') + dt.getHours();\r\n\t}\r\n\r\n\troundMinutes(date) {\r\n\r\n\t\tdate.setHours(date.getHours() + Math.round(date.getMinutes() / 60));\r\n\t\tdate.setMinutes(0, 0, 0); // Resets also seconds and milliseconds\r\n\r\n\t\treturn date;\r\n\t}\r\n\r\n\thandleEditChange(event) {\r\n\t\tlet i = event.target.value;\r\n\r\n\r\n\t\tif (this.state.selCrud === 'option1') {\r\n\t\t\tthis.crudRefresh(1, 2);\r\n\t\t\tthis.setState({\r\n\t\t\t\tselCrud: 'option2'\r\n\t\t\t});\r\n\t\t} else if (this.state.selCrud === 'option3') {\r\n\t\t\tthis.crudRefresh(3, 2);\r\n\t\t\tthis.setState({\r\n\t\t\t\tselCrud: 'option2'\r\n\t\t\t});\r\n\t\t}\r\n\t\tif(this.state.custid === undefined){\r\n\t\t\tdocument.getElementById('customer').selectedIndex = \"0\";\r\n\t\t}\r\n\r\n\t\taxios.get(this.state.path + ':5000/appointment/' + this.state.documents[i]._id)\r\n\t\t\t.then((res) => {\r\n\r\n\t\t\t\tthis.setState({ edit: res.data });\r\n\r\n\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tlet sdate = new Date(this.state.edit.stime);\r\n\t\t\t\tlet edate = new Date(this.state.edit.etime);\r\n\t\t\t\tlet oldty = this.getTypeVal(this.state.type);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcustid: this.state.edit.custid,\r\n\t\t\t\t\tworkerid: this.state.edit.userid,\r\n\t\t\t\t\ttitle: this.state.edit.title,\r\n\t\t\t\t\trate: this.state.edit.rate,\r\n\t\t\t\t\tsupply: this.state.edit.supply,\r\n\t\t\t\t\ttotal: this.state.edit.total,\r\n\t\t\t\t\thours: this.state.edit.hours,\r\n\t\t\t\t\toverlap: this.state.edit.overlap,\r\n\t\t\t\t\tdate: this.state.edit.stime.substring(0,this.state.edit.stime.indexOf('T')),\r\n\t\t\t\t\tstime: this.lzHour(sdate) + \":\" + this.lzMinute(sdate),\r\n\t\t\t\t\tetime: this.lzHour(edate) + \":\" + this.lzMinute(edate),\r\n\t\t\t\t\ttype: this.state.edit.type,\r\n\t\t\t\t\ttasks: this.state.edit.tasks,\r\n\t\t\t\t\tnotes: this.state.edit.notes,\r\n\t\t\t\t\tselectedName: \"customer\" + i,\r\n\t\t\t\t\tselectedIndex: i,\r\n\t\t\t\t\tcrudState: 2\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.typeRefresh(oldty, this.getTypeVal(this.state.type))\r\n\r\n\t\t\t\tswitch (this.state.type) {\r\n\t\t\t\t\tcase \"rout\":\r\n\t\t\t\t\t\tdocument.getElementById(\"rate\").classList.remove('d-none');\r\n\t\t\t\t\t\tdocument.getElementById(\"supply\").classList.add('d-none');\r\n\t\t\t\t\t\tdocument.getElementById(\"total\").classList.remove('d-none');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"cons\":\r\n\t\t\t\t\t\tdocument.getElementById(\"rate\").classList.add('d-none');\r\n\t\t\t\t\t\tdocument.getElementById(\"supply\").classList.add('d-none');\r\n\t\t\t\t\t\tdocument.getElementById(\"total\").classList.add('d-none');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"spec\":\r\n\t\t\t\t\t\tdocument.getElementById(\"rate\").classList.remove('d-none');\r\n\t\t\t\t\t\tdocument.getElementById(\"supply\").classList.remove('d-none');\r\n\t\t\t\t\t\tdocument.getElementById(\"total\").classList.remove('d-none');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\r\n\r\n\r\n\r\n\t}\r\n\r\n\thandleCrudChange(event) {\r\n\r\n\t\tif (event.target.value === 'option1') {\r\n\r\n\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t\t\tthis.inputReset();\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tselectedName: '',\r\n\t\t\t\tselectedIndex: -1,\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcrudState: 0\r\n\t\t\t});\r\n\r\n\t\t} else if (event.target.value === 'option2') {\r\n\t\t\tif (this.state.selectedName === '') {\r\n\t\t\t\tthis.setState({ error: 'ERROR: Please select user before attempting to edit a user.' })\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\tthis.crudRefresh(2, 1)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlbutton: 'Save',\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tcrudState: 0\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcrudState: 2\r\n\t\t\t});\r\n\r\n\r\n\t\t} else {\r\n\t\t\tif (this.state.selectedName === '') {\r\n\t\t\t\tthis.setState({ error: 'ERROR: Please select user before attempting to delete a user.' })\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\tthis.crudRefresh(3, 1)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlbutton: 'Save',\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tcrudState: 0\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Delete',\r\n\t\t\t\tdisabled: true,\r\n\t\t\t\tcrudState: 3\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tselCrud: event.target.value\r\n\t\t});\r\n\t}\r\n\r\n\thandleAppChange(event) {\r\n\r\n\t\tif (event.target.value === 'apptype1') {\r\n\t\t\tdocument.getElementById(\"tasks\").classList.remove('d-none');\r\n\t\t\tdocument.getElementById(\"tasks-label\").classList.remove('d-none');\r\n\t\t\tdocument.getElementById(\"rate\").classList.remove('d-none');\r\n\t\t\tdocument.getElementById(\"supply\").classList.add('d-none');\r\n\t\t\tdocument.getElementById(\"total\").classList.remove('d-none');\r\n\t\t\tthis.setState({type : 'rout' })\r\n\t\t\t\r\n\r\n\t\t} else if (event.target.value === 'apptype2') {\r\n\t\t\tdocument.getElementById(\"tasks\").classList.add('d-none');\r\n\t\t\tdocument.getElementById(\"tasks-label\").classList.add('d-none');\r\n\t\t\tdocument.getElementById(\"rate\").classList.add('d-none');\r\n\t\t\tdocument.getElementById(\"supply\").classList.add('d-none');\r\n\t\t\tdocument.getElementById(\"total\").classList.add('d-none');\r\n\r\n\r\n\t\t\tthis.setState({ type: 'cons' })\r\n\r\n\t\t} else {\r\n\t\t\tdocument.getElementById(\"tasks\").classList.add('d-none');\r\n\t\t\tdocument.getElementById(\"tasks-label\").classList.add('d-none');\r\n\t\t\tdocument.getElementById(\"rate\").classList.remove('d-none');\r\n\t\t\tdocument.getElementById(\"supply\").classList.remove('d-none');\r\n\t\t\tdocument.getElementById(\"total\").classList.remove('d-none');\r\n\r\n\r\n\t\t\tthis.setState({ type: 'spec' })\r\n\t\t}\r\n\r\n\t}\r\n\r\n\thandleCustomerChange(event) {\r\n\t\tthis.setState({\r\n\t\t\tselCust: this.state.customers[event.target.value].name,\r\n\t\t\tcustid: this.state.customers[event.target.value]._id,\r\n\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tonChecked() {\r\n\t\tif (this.state.overlap === false)\r\n\t\t\tthis.setState({ overlap: true })\r\n\t\tif (this.state.overlap === true)\r\n\t\t\tthis.setState({ overlap: false })\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tthis.setState({ error: '' })\r\n\r\n\t\tconst stime = new Date(this.state.date + \" \" + this.state.stime);\r\n\t\tconst etime = new Date(this.state.date + \" \" + this.state.etime);\r\n\t\t\r\n\t\tlet\topening = new Date(this.state.date + \" \" + \"06:00\");\r\n\t\tlet\tclosing = new Date(this.state.date + \" \" + \"20:00\");\r\n\t\tlet\ts = new Date(this.state.date + \" \" + this.state.stime);\r\n\t\tlet\te = new Date(this.state.date + \" \" + this.state.etime);\r\n\r\n\t\ttry{\r\n\t\t\tif (this.state.title === '' && this.state.crudState !== 3) throw \"ERROR: Title was left blank.\"\r\n\t\t\tif (this.state.custid === '' && this.state.crudState !== 3) throw \"ERROR: Customer was not selected.\"\r\n\t\t\tif (this.state.workerid === '' && this.state.crudState !== 3) throw \"ERROR: Field Worker was not selected.\"\r\n\t\t\tif (this.state.date === undefined && this.state.crudState !== 3) throw \"ERROR: Date was not selected.\"\r\n\t\t\tif (this.state.stime === undefined && this.state.crudState !== 3) throw \"ERROR: Start time was not selected.\"\r\n\t\t\tif (this.state.etime === undefined && this.state.crudState !== 3) throw \"ERROR: End time was not selected.\"\r\n\t\t\tif (this.state.rate === '' && this.state.crudState !== 3 && this.state.type !== 'cons') throw \"ERROR: Charge rate was left blank.\" \r\n\t\t\tif (this.state.total === '' && this.state.crudState !== 3 && this.state.type !== 'cons') throw \"ERROR: Total rate was left blank.\" \r\n\t\t\tif (e.getHours() < s.getHours() && this.state.crudState !== 3) throw \"ERROR: Ending time must be higher than starting time. \"\r\n\t\t\tif (s.getHours() < opening.getHours() && this.state.crudState !== 3) throw \"ERROR: Starting time is lower than the opening time.\"\r\n\t\t\tif (s.getHours() > closing.getHours() && this.state.crudState !== 3) throw \"ERROR: Starting time is higher than the closing time.\"\r\n\t\t\tif (e.getHours() < opening.getHours() && this.state.crudState !== 3) throw \"ERROR: Ending time is lower than the opening time.\"\r\n\t\t\tif (e.getHours() > closing.getHours() && this.state.crudState !== 3) throw \"ERROR: Ending time is higher than the closing time.\"\r\n\t\t}\r\n\t\tcatch(err){\r\n\t\t\tthis.setState({ error: err })\r\n\t\t\tif(document.getElementById(\"error\") !== null){\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\r\n\t\tlet eflag = false;\r\n\t\taxios.get(this.state.path + ':5000/appointment/d/' + stime.getFullYear() + '/' + (parseInt(stime.getMonth())+1) + '/' + stime.getDate())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach(app => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(stime >= new Date(app.stime) && stime <= new Date(app.etime) && this.state.workerid === app.userid && this.state.crudState !== 3 && this.state.overlap === false){\r\n\t\t\t\t\t\teflag = true;\r\n\t\t\t\t\t\tthis.setState({ error: 'ERROR: Start time is overlapping with another appointment called: ' + app.title + \"; Assigned to the currently selected worker\"})\r\n\t\t\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\t\t\treturn; \r\n\t\t\t\t\t}else if(etime >= new Date(app.stime) && etime <= new Date(app.etime) && this.state.workerid === app.userid && this.state.crudState !== 3 && this.state.overlap === false){\r\n\t\t\t\t\t\teflag = true;\r\n\t\t\t\t\t\tthis.setState({ error: 'ERROR: End time is overlapping with another appointment called: ' + app.title + \"; Assigned to the currently selected worker\"})\r\n\t\t\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t}).finally((res) => {\r\n\t\t\t\tif(eflag === true){return;}\r\n\t\t\t\t//database section\r\n\t\t\t\tthis.crudUse();\r\n\r\n\t\t\t\t//Success section\r\n\t\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t\t\t\tthis.inputReset();\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tselectedName: this.state.edit.name\r\n\t\t\t\t});\r\n\r\n\r\n\r\n\t\t\t})\r\n\r\n\t}\r\n\r\n\tonCancel(event) {\r\n\t\tif (this.state.selectedName !== '') {\r\n\t\t\tdocument.getElementById(\"lbl\" + this.state.selectedName).classList.remove('focus');\r\n\t\t\tdocument.getElementById(\"lbl\" + this.state.selectedName).classList.remove('active');\r\n\t\t}\r\n\r\n\t\tif (this.state.selCrud === 'option2') {\r\n\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\tthis.crudRefresh(2, 1);\r\n\t\t} else if (this.state.selCrud === 'option3') {\r\n\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\tthis.crudRefresh(3, 1);\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tdisabled: false\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\tthis.inputReset();\r\n\r\n\r\n\t\tthis.setState({\r\n\t\t\tselectedName: ''\r\n\t\t});\r\n\r\n\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t}\r\n\r\n\tonSelect(event) {\r\n\t\tif(event.target.name === 'customer'){\r\n\t\t\tthis.setState(\r\n\t\t\t\t{ custid : event.target.value}\r\n\t\t\t)\r\n\t\t} else if( event.target.name === 'worker'){\r\n\r\n\r\n\t\t\tthis.setState(\r\n\t\t\t\t{ workerid : event.target.value\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tonChange(event) {\r\n\t\r\n\t\tconst state = this.state\r\n\t\tstate[event.target.name] = event.target.value;\r\n\t\tthis.setState(state);\r\n\t\tlet s = '';\r\n\t\tlet e = '';\r\n\t\tlet opening = '';\r\n\t\tlet closing = '';\r\n\r\n\t\tif (this.state.date !== '' && this.state.stime !== '' && this.state.stime !== '') {\r\n\t\t\topening = new Date(this.state.date + \" \" + \"06:00\");\r\n\t\t\tclosing = new Date(this.state.date + \" \" + \"20:00\");\r\n\t\t\ts = new Date(this.state.date + \" \" + this.state.stime);\r\n\t\t\te = new Date(this.state.date + \" \" + this.state.etime);\r\n\t\t\tlet e2 = (e.getHours()+e.getMinutes()/60);\r\n\t\t\tlet s2 = (s.getHours()+s.getMinutes()/60); \r\n\r\n\t\t\tif (e.getHours() < s.getHours()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\t\t\tif (this.state.supply !== '' && this.state.type === 'spec') {\r\n\t\t\t\tlet v = this.state.rate * (e2 - s2) + parseFloat(this.state.supply);\r\n\t\t\t\tthis.setState({ total: v.toFixed(2),\r\n\t\t\t\t\thours: (e2-s2).toFixed(1)\r\n\t\t\t\t}) \r\n\t\t\t} else {\r\n\t\t\t\tlet v = this.state.rate * (e2 - s2);\r\n\t\t\t\tthis.setState({ total: v.toFixed(2), \r\n\t\t\t\t\thours: (e2-s2).toFixed(2)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\r\n\t}\r\n\r\n\t//[CRUD Functions] - User\r\n\tgetAllDocuments() {\r\n\t\taxios.get(this.state.path + ':5000/appointment/' )\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({ documents: res.data });\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tif(localStorage.getItem(\"docid\")){\r\n\t\t\t\t\tlet i = this.state.documents.findIndex(i => i._id === localStorage.getItem(\"docid\"))\r\n\t\t\t\t\tconsole.log(localStorage.getItem(\"docid\"))\r\n\r\n\t\t\t\t\taxios.get(this.state.path + ':5000/appointment/' + localStorage.getItem(\"docid\"))\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\r\n\t\t\t\t\t\t\tthis.setState({ edit: res.data });\r\n\t\t\t\t\t\t}).finally(() =>{\r\n\t\t\t\t\t\t\tlet sdate = new Date(this.state.edit.stime);\r\n\t\t\t\t\t\t\tlet edate = new Date(this.state.edit.etime);\r\n\t\t\t\t\t\t\tlet oldty = this.getTypeVal(this.state.type);\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tcustid: this.state.edit.custid,\r\n\t\t\t\t\t\t\t\tworkerid: this.state.edit.userid,\r\n\t\t\t\t\t\t\t\ttitle: this.state.edit.title,\r\n\t\t\t\t\t\t\t\trate: this.state.edit.rate,\r\n\t\t\t\t\t\t\t\tsupply: this.state.edit.supply,\r\n\t\t\t\t\t\t\t\ttotal: this.state.edit.total,\r\n\t\t\t\t\t\t\t\thours: this.state.edit.hours,\r\n\t\t\t\t\t\t\t\toverlap: this.state.edit.overlap,\r\n\t\t\t\t\t\t\t\tdate: this.state.edit.stime.substring(0,this.state.edit.stime.indexOf('T')),\r\n\t\t\t\t\t\t\t\tstime: this.lzHour(sdate) + \":\" + this.lzMinute(sdate),\r\n\t\t\t\t\t\t\t\tetime: this.lzHour(edate) + \":\" + this.lzMinute(edate),\r\n\t\t\t\t\t\t\t\ttype: this.state.edit.type,\r\n\t\t\t\t\t\t\t\ttasks: this.state.edit.tasks,\r\n\t\t\t\t\t\t\t\tnotes: this.state.edit.notes,\r\n\t\t\t\t\t\t\t\tselectedName: \"customer\" + i,\r\n\t\t\t\t\t\t\t\tselectedIndex: i,\r\n\t\t\t\t\t\t\t\tcrudState: 2\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tthis.typeRefresh(oldty, this.getTypeVal(this.state.type))\r\n\r\n\t\t\t\t\t\t\tswitch (this.state.type) {\r\n\t\t\t\t\t\t\t\tcase \"rout\":\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"rate\").classList.remove('d-none');\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"supply\").classList.add('d-none');\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"total\").classList.remove('d-none');\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"cons\":\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"rate\").classList.add('d-none');\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"supply\").classList.add('d-none');\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"total\").classList.add('d-none');\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"spec\":\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"rate\").classList.remove('d-none');\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"supply\").classList.remove('d-none');\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"total\").classList.remove('d-none');\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+1).classList.remove('focus');\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+1).classList.remove('active');\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+2).classList.add('focus');\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+2).classList.add('active');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"docid\")\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t}\r\n\r\n\tgetAllCustomers() {\r\n\t\taxios.get(this.state.path + ':5000/customer/')\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({ customers: res.data });\r\n\t\t\t});\r\n\t}\r\n\r\n\tgetAllWorkers(){\r\n\t\tlet tempworkers = []\r\n\t\taxios.get(this.state.path + ':5000/user/')\r\n\t\t\t.then(res => {\r\n\t\t\t\t\r\n\t\t\t\tres.data.forEach(user => {\r\n\t\t\t\t\tif(user.type === \"Field Worker\"){\r\n\t\t\t\t\t\ttempworkers.push(user)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.setState({ workers: tempworkers });\r\n\t\t\t});\r\n\t}\r\n\r\n\r\n\tcrudUse() {\r\n\r\n\r\n\t\tconst userid = this.state.workerid;\r\n\t\tconst custid = this.state.custid\r\n\t\tconst title = this.state.title\r\n\t\tconst rate = this.state.rate\r\n\t\tconst supply = this.state.supply\r\n\t\tconst total = this.state.total\r\n\t\tconst hours = this.state.hours\r\n\t\tconst stime = new Date(this.state.date + \" \" + this.state.stime);\r\n\t\tconst etime = new Date(this.state.date + \" \" + this.state.etime);\r\n\t\tconst overlap = this.state.overlap\r\n\t\tconst type = this.state.type\r\n\t\tconst tasks = this.state.tasks\r\n\t\tconst notes = this.state.notes\r\n\t\tlet createdBy = localStorage.getItem(\"username\")\r\n\t\tconst updatedBy = localStorage.getItem(\"username\")\r\n\t\tconst updatedDate = new Date();\r\n\t\tlet createdDate = new Date();\r\n\r\n\t\tswitch (this.state.crudState) {\r\n\t\t\tcase 0: //create\r\n\t\t\t\t//created then updated\r\n\r\n\t\t\t\taxios.post(this.state.path + ':5000/appointment/', { userid, custid, title, rate, supply, total, hours, overlap, type, tasks, notes, stime, etime, createdBy, updatedBy, createdDate, updatedDate })\r\n\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\tthis.getAllDocuments();\r\n\t\t\t\t\t\tthis.getAllCustomers();\r\n\t\t\t\t\t\tthis.getAllWorkers();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1: //read\r\n\r\n\t\t\t\taxios.get(this.state.path + ':5000/appointment/' + this.state.documents[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((res) => {\r\n\r\n\t\t\t\t\t\tthis.state({ edit: res.data });\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2: //update\r\n\r\n\t\t\t\taxios.get(this.state.path + ':5000/appointment/' + this.state.documents[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((res) => {\r\n\r\n\t\t\t\t\t\tcreatedBy = res.data.createdBy;\r\n\t\t\t\t\t\tcreatedDate = res.data.createdDate;\r\n\t\t\t\t\t}).finally(() => {\r\n\r\n\t\t\t\t\t\taxios.put(this.state.path + ':5000/appointment/' + this.state.documents[this.state.selectedIndex]._id, { userid, custid, title, rate, supply, total, hours, overlap, type, notes, stime, etime, createdBy, updatedBy, createdDate, updatedDate  })\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t}).finally(() => {\r\n\r\n\t\t\t\t\t\t\t\t//call refresh func\r\n\t\t\t\t\t\t\t\tthis.getAllDocuments();\r\n\t\t\t\t\t\t\t\tthis.getAllCustomers();\r\n\t\t\t\t\t\t\t\tthis.getAllWorkers();\r\n\r\n\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3: //delete\r\n\t\t\t\taxios.delete(this.state.path + ':5000/appointment/' + this.state.documents[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((result) => {\r\n\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\tthis.getAllDocuments();\r\n\t\t\t\t\t\tthis.getAllCustomers();\r\n\t\t\t\t\t\tthis.getAllWorkers();\r\n\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<Top />\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border d-none d-lg-block recent height-cap\">\r\n\t\t\t\t\t\t\t<div className=\"row btn-group btn-group-toggle btn-group-special btn-group-vertical force-scroll\" data-toggle=\"buttons\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.documents.map((document, index) => (\r\n\r\n\t\t\t\t\t\t\t\t\t\t<label key={'customer' + index} id={'lbluser' + index} className=\"btn btn-secondary w-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"user\" id={'user' + index} value={index} onClick={this.handleEditChange} />{document.title}\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-9 border input-col \">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"btn-group btn-group-toggle w-100\" data-toggle=\"buttons\" >\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption1\" className=\"btn btn-secondary active\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option1\" value=\"option1\" onClick={this.handleCrudChange} /> New\r\n\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption2\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option2\" value=\"option2\" onClick={this.handleCrudChange} /> Save\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption3\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option3\" value=\"option3\" onClick={this.handleCrudChange} /> Delete\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t<h5 className=\"text-center\">{this.state.header}</h5>\r\n\t\t\t\t\t\t\t<div className=\"alert alert-danger d-none\" id=\"error\" role=\"alert\">\r\n\t\t\t\t\t\t\t\t{this.state.error}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t<div className=\"btn-group btn-group-toggle w-100 mb-4\" data-toggle=\"buttons\" >\r\n\t\t\t\t\t\t\t\t<label id=\"lbltype1\" className=\"btn btn-secondary active focus\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"apptype\" id=\"apptype1\" value=\"apptype1\" onClick={this.handleAppChange} /> Labor\r\n\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t<label id=\"lbltype2\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"apptype\" id=\"apptype2\" value=\"apptype2\" onClick={this.handleAppChange} /> Consultation\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<label id=\"lbltype3\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"apptype\" id=\"apptype3\" value=\"apptype3\" onClick={this.handleAppChange} /> Special Order\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Title</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"title\" value={this.state.title} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Customer</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<select className=\"form-control\" id=\"customer\" name='customer' value={this.state.custid} disabled={this.state.disabled} onChange={this.onSelect}>\r\n\t\t\t\t\t\t\t\t\t<option value=''>Select a customer.</option>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tthis.state.customers.map((customers, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option key={index} value={customers._id}>{customers.name}</option>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Field Worker</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<select className=\"form-control\" id=\"worker\" name='worker' value={this.state.workerid} disabled={this.state.disabled} onChange={this.onSelect}>\r\n\t\t\t\t\t\t\t\t\t<option value=''>Select a worker.</option>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tthis.state.workers.map((worker, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option key={index}  value={worker._id}>{worker.username}</option>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >Date</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"date\" name=\"date\" value={this.state.date} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >Start Time</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"time\" name=\"stime\" value={this.state.stime} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >End Time</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"time\" name=\"etime\" value={this.state.etime} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"form-check\">\r\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" className=\"form-check-input\" id=\"overlap\" name=\"overlap\" value={this.state.overlap} onClick={this.onChecked}/>\r\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"exampleCheck1\">Allow Overlap</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\" id=\"rate\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Charge Rate</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"number\" name=\"rate\" step={1} value={this.state.rate} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3 d-none\" id=\"supply\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Supply Charge</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"number\" name=\"supply\" value={this.state.supply} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\" id=\"total\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Total Charge</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"number\" name=\"total\" value={this.state.total} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<h5 id=\"tasks-label\">Tasks to complete: (Separate with commas)</h5>\r\n\t\t\t\t\t\t\t<textarea className=\"form-control\" aria-label=\"With textarea\" onChange={this.onChange} id=\"tasks\" name=\"tasks\" value={this.state.tasks}></textarea>\r\n\r\n\t\t\t\t\t\t\t<h5>Notes</h5>\r\n\t\t\t\t\t\t\t<textarea className=\"form-control\" aria-label=\"With textarea\" onChange={this.onChange} name=\"notes\" value={this.state.notes}></textarea>\r\n\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" onClick={this.onSubmit}>{this.state.lbutton}</button> <button type=\"button\" className=\"btn btn-primary\" onClick={this.onCancel}>{this.state.rbutton}</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col border user d-lg-none \">\r\n\t\t\t\t\t\t\t<div className=\"row btn-group btn-group-toggle btn-group-special btn-group-vertical\" data-toggle=\"buttons\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.documents.map((document, index) => (\r\n\r\n\t\t\t\t\t\t\t\t\t\t<label key={'customer' + index} id={'lbluser' + index} className=\"btn btn-secondary w-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"user\" id={'user' + index} value={index} onClick={this.handleEditChange} />{document.title}\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default appointments;\r\n","class appointment {\r\n\tconstructor(i, u, c, t, o, h, ty, n, s, e) {\r\n\t\tthis._id = i;\r\n        this._userid = u;\r\n\t\tthis._custid = c;\r\n\t\tthis._title = t;\r\n\t\tthis._overlap = o;\r\n\t\tthis._hours = h;\r\n        this._type = ty;\r\n        this._notes = n;\r\n        this._stime = s;\r\n        this._etime = e;\r\n\t}\r\n\r\n    exportStartDate(){\r\n        return new Date(this._stime)\r\n    }\r\n\r\n    exportEndDate(){\r\n        return new Date(this._etime)\r\n    }\r\n\r\n    indexMonth(){\r\n        return new Date(this._stime).getMonth()\r\n    }\r\n\r\n\tprint() {\r\n\t\tconsole.log(\"_id:\" + this._id);\r\n\t\tconsole.log(\"_uid:\" + this._uid);\r\n\r\n\t}\r\n}\r\n\r\n\r\nclass routapp extends appointment {\r\n    constructor(i, u, c, t, o, h, ty, n, s, e, r, tl, ta){\r\n        super(i, u, c, t, o, h, ty, n, s, e);\r\n        this._rate = r;\r\n\t\tthis._total = tl;\r\n        this._tasks = ta;\r\n    }\r\n\r\n    getTaskCount(){\r\n        console.log(this._tasks);\r\n        if(this._tasks === undefined || this._tasks === \"\"){return;}\r\n        return this._tasks.split(\",\").length;\r\n    }\r\n}\r\n\r\n\r\nclass consapp extends appointment {\r\n    constructor(f){\r\n        this._firsttime = f;\r\n\r\n    }\r\n    getCost(){\r\n        if(this._firsttime === false){\r\n            this._total = 20;\r\n        }\r\n    }\r\n}\r\n\r\nclass specapp extends appointment {\r\n    constructor(i, u, c, t, o, h, ty, n, s, e, r, tl, su){\r\n        super(i, u, c, t, o, h, ty, n, s, e);\r\n        this._rate = r;\r\n\t\tthis._total = tl;\r\n        this._supply = su;\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport {\r\n    appointment,\r\n    routapp,\r\n    consapp,\r\n    specapp\r\n}","import React, { Component } from 'react';\r\nimport { appointment, routapp, specapp} from './../js/classes/appointment';\r\nimport axios from 'axios';\r\nimport Navbar from './../routes/nav';\r\n\r\nclass reports extends Component {\r\n\tconstructor() {\r\n        super();\r\n        \r\n        this.state = {\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\tcrudState: '',\r\n\t\t\tselected: '',\r\n            cUser: '',\r\n            categories: [],\r\n            entries: [],\r\n            year: new Date().getFullYear(),\r\n            tblall: [],\r\n            tblrou: [],\r\n            tblcon: [],\r\n            tblspe: [],\r\n        \r\n            listapps: [],\r\n            listrout: [],\r\n            listcons: [],\r\n            listspec: []\r\n        }\r\n        \r\n\t\tthis.handleTypeChange = this.handleTypeChange.bind(this);\r\n\r\n\r\n    }\r\n    \r\n    componentDidMount(){\r\n        if (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\") || localStorage.getItem(\"userType\") !== \"Admin\") {\r\n\t\t\tthis.props.history.push('/')\r\n\t\t}\r\n\r\n        let all = [\"Month\", \"Appointments\", \"Sum\", \"Average\", \"Routine Jobs\", \"Consultations\", \"Special Orders\"]\r\n        this.setState({\r\n            categories: all\r\n        })\r\n        this.getAllApps(this.state.year)\r\n    }\r\n\r\n\r\n    handleTypeChange(event){\r\n        \r\n        switch (event.target.value){\r\n            case \"tblall\":\r\n                this.setState({\r\n                    categories: [\"Month\", \"Appointments\", \"Sum\", \"Average\", \"Routine Jobs\", \"Consultations\", \"Special Orders\"]\r\n                })\r\n                document.getElementById(\"tblall\").classList.remove('d-none');\r\n                document.getElementById(\"tblrou\").classList.add('d-none');\r\n                document.getElementById(\"tblcon\").classList.add('d-none');\r\n                document.getElementById(\"tblspe\").classList.add('d-none');\r\n                   break;\r\n            case \"tblrou\":\r\n                this.setState({\r\n                    categories: [\"Month\", \"Appointments\", \"Sum\", \"Average\", \"Tasks\", \"Average Tasks\"]\r\n                   \r\n                })\r\n                document.getElementById(\"tblall\").classList.add('d-none');\r\n                document.getElementById(\"tblrou\").classList.remove('d-none');\r\n                document.getElementById(\"tblcon\").classList.add('d-none');\r\n                document.getElementById(\"tblspe\").classList.add('d-none');\r\n                break;\r\n            case \"tblcon\":\r\n                this.setState({\r\n                    categories: [\"Month\", \"Appointments\"]\r\n                   \r\n                })\r\n                document.getElementById(\"tblall\").classList.add('d-none');\r\n                document.getElementById(\"tblrou\").classList.add('d-none');\r\n                document.getElementById(\"tblcon\").classList.remove('d-none');\r\n                document.getElementById(\"tblspe\").classList.add('d-none');\r\n                break;\r\n            case \"tblspe\":\r\n                this.setState({\r\n                    categories: [\"Month\", \"Appointments\", \"Sum\", \"Average\", \"Supply Cost\", \"Average Supply Cost\"]\r\n                   \r\n                })\r\n                document.getElementById(\"tblall\").classList.add('d-none');\r\n                document.getElementById(\"tblrou\").classList.add('d-none');\r\n                document.getElementById(\"tblcon\").classList.add('d-none');\r\n                document.getElementById(\"tblspe\").classList.remove('d-none');\r\n                break;\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    getCurrentYear(){\r\n        axios.get(this.state.path + ':5000/appointment/y/' + this.state.year)\r\n        .then(res => {\r\n            res.data.forEach(app => {\r\n                console.log(\"  ---\" + new Date(app.stime).getFullYear())\r\n                let newapp = {};\r\n                switch (app.type){\r\n                    case 'rout':\r\n                        newapp = new routapp(app._id, app.userid, app.custid, app.title, app.overlap, app.hours, app.type, app.notes, app.stime, app.etime, app.rate, app.total, app.tasks )\r\n                        break;\r\n                    case 'cons':\r\n                        newapp = new appointment(app._id, app.usserid, app.custid, app.title, app.overlap, app.hours, app.type, app.notes, app.stime, app.etime)\r\n                        break;\r\n                    case 'spec':\r\n                        newapp = new specapp(app._id, app.usserid, app.custid, app.title, app.overlap, app.hours, app.type, app.notes, app.stime, app.etime, app.rate, app.total, app.supply)\r\n                        break;\r\n                }\r\n\r\n\r\n            \r\n            });\r\n         \r\n            \r\n        });\r\n    }\r\n\r\n\r\n    getAllApps(i){\r\n\r\n        let routs = []\r\n        let cons = []\r\n        let specs = []\r\n\r\n\r\n\r\n        axios.get(this.state.path + ':5000/appointment/y/' + i)\r\n        .then(res => {\r\n            res.data.forEach(app => {\r\n                let newapp = {};\r\n                switch (app.type){\r\n                    case 'rout':\r\n                        console.log(app.stime)\r\n                        newapp = new routapp(app._id, app.userid, app.custid, app.title, app.overlap, app.hours, app.type, app.notes, app.stime, app.etime, app.rate, app.total, app.tasks )\r\n                        routs.push(newapp)\r\n                        break;\r\n                    case 'cons':\r\n                        newapp = new appointment(app._id, app.usserid, app.custid, app.title, app.overlap, app.hours, app.type, app.notes, app.stime, app.etime)\r\n                        cons.push(newapp)\r\n                        break;\r\n                    case 'spec':\r\n                        newapp = new specapp(app._id, app.usserid, app.custid, app.title, app.overlap, app.hours, app.type, app.notes, app.stime, app.etime, app.rate, app.total, app.supply)\r\n                        specs.push(newapp)\r\n                        break;\r\n                }\r\n\r\n             \r\n            });\r\n         \r\n            this.setState({\r\n                listrout: routs,\r\n                listcons: cons,\r\n                listspec: specs\r\n            })\r\n            \r\n        }).finally(()=> {\r\n            this.loadApps()\r\n\r\n        });\r\n            \r\n\r\n    }\r\n\r\n \r\n\r\n    changeYear(i){\r\n        this.getAllApps(this.state.year+i);\r\n        this.setState({\r\n            year: this.state.year + i\r\n        })\r\n        console.log(this.state.year)\r\n    }\r\n    \r\n    getMonthName(i){\r\n        let name = ''\r\n        switch (i){\r\n            case 0:\r\n                name = \"Jan\"\r\n                break;\r\n            case 1:\r\n                name = \"Feb\"\r\n                break;\r\n            case 2:\r\n                name = \"Mar\"\r\n                break;\r\n            case 3:\r\n                name = \"Apr\"\r\n                break;\r\n            case 4:\r\n                name = \"May\"\r\n                break;\r\n            case 5:\r\n                name = \"Jun\"\r\n                break;\r\n            case 6:\r\n                name = \"Jul\"\r\n                break;\r\n            case 7:\r\n                name = \"Aug\"\r\n                break;\r\n            case 8:\r\n                name = \"Sep\"\r\n                break;\r\n            case 9:\r\n                name = \"Oct\"\r\n                break;\r\n            case 10:\r\n                name = \"Nov\"\r\n                break;\r\n            case 11:\r\n                name = \"Dec\"\r\n                break;\r\n        }\r\n\r\n        return name;\r\n    }\r\n\r\n    \r\n\r\n    loadApps(){\r\n        let table = []\r\n        let rou = []\r\n        let con = []\r\n        let spe = []\r\n\r\n        for(let i = 0; i <= 11; i++){\r\n            let obj = {}\r\n            obj.count = 0;\r\n            obj.sum = 0;\r\n            obj.avg = 0;\r\n            obj.rout = 0;\r\n            obj.cons = 0;\r\n            obj.spec = 0;\r\n\r\n            let r = {}\r\n            r.count = 0;\r\n            r.sum = 0;\r\n            r.avg = 0;\r\n            r.tasks = 0;\r\n            r.avgtasks = 0;\r\n\r\n            let c = {}\r\n            c.count = 0;\r\n\r\n            let s = {}\r\n            s.count = 0;\r\n            s.sum = 0;\r\n            s.avg = 0;\r\n            s.sup = 0;\r\n            s.avgsup = 0;\r\n\r\n            table.push(obj)\r\n            rou.push(r)\r\n            con.push(c)\r\n            spe.push(s)\r\n            \r\n\r\n        \r\n\r\n        }\r\n        this.state.listrout.forEach(app => {\r\n            console.log(app._stime)\r\n            console.log(app.indexMonth())\r\n           table[app.indexMonth()].count++\r\n           table[app.indexMonth()].rout++\r\n\r\n           rou[app.indexMonth()].count++\r\n\r\n           table[app.indexMonth()].sum = app._total + table[app.indexMonth()].sum\r\n\r\n           rou[app.indexMonth()].sum = app._total + rou[app.indexMonth()].sum\r\n\r\n\r\n           if(table[app.indexMonth()].sum > 0){\r\n                table[app.indexMonth()].avg = (table[app.indexMonth()].sum/table[app.indexMonth()].count).toFixed(2)\r\n           }\r\n\r\n           if(rou[app.indexMonth()].sum > 0){\r\n                rou[app.indexMonth()].avg = (rou[app.indexMonth()].sum/rou[app.indexMonth()].count).toFixed(2)\r\n            }\r\n\r\n            rou[app.indexMonth()].tasks = app.getTaskCount() + rou[app.indexMonth()].tasks\r\n            if(rou[app.indexMonth()].tasks > 0){\r\n                rou[app.indexMonth()].avgtasks = (rou[app.indexMonth()].tasks/rou[app.indexMonth()].count).toFixed(2)\r\n            }\r\n\r\n\r\n        });\r\n\r\n        this.state.listcons.forEach(app => {\r\n            table[app.indexMonth()].count++\r\n            table[app.indexMonth()].cons++\r\n\r\n            con[app.indexMonth()].count++\r\n\r\n\r\n \r\n         });\r\n\r\n        this.state.listspec.forEach(app => {\r\n           table[app.indexMonth()].count++\r\n           table[app.indexMonth()].spec++\r\n\r\n           spe[app.indexMonth()].count++\r\n\r\n           table[app.indexMonth()].sum = app._total + table[app.indexMonth()].sum\r\n\r\n           spe[app.indexMonth()].sum = app._total + spe[app.indexMonth()].sum\r\n\r\n\r\n           if(table[app.indexMonth()].sum > 0){\r\n            table[app.indexMonth()].avg = (table[app.indexMonth()].sum/table[app.indexMonth()].count).toFixed(2)\r\n           }\r\n\r\n           if(spe[app.indexMonth()].sum > 0){\r\n                spe[app.indexMonth()].avg = (spe[app.indexMonth()].sum/spe[app.indexMonth()].count).toFixed(2)\r\n           }\r\n\r\n           spe[app.indexMonth()].sup = app._supply + spe[app.indexMonth()].sup\r\n\r\n           if(spe[app.indexMonth()].sup > 0){\r\n            spe[app.indexMonth()].supavg = (spe[app.indexMonth()].sup/spe[app.indexMonth()].count).toFixed(2)\r\n            }    \r\n\r\n\r\n\r\n\r\n        });\r\n\r\n\r\n        this.setState({ tblall : table})\r\n        this.setState({ tblrou : rou})   \r\n        this.setState({ tblcon : con})   \r\n        this.setState({ tblspe : spe})   \r\n\r\n        console.log(this.state.tblall)\r\n    }\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n                        \r\n                        <div className=\"col-lg border input-col p-0 h-100\">\r\n                        <div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-2 \">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeYear(-1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-left\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M5.854 4.646a.5.5 0 0 1 0 .708L3.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2.5 8a.5.5 0 0 1 .5-.5h10.5a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\r\n                                <h4 className=\"display-4 mb-4 text-center\">Current Year: {this.state.year}</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-2 \">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeYear(1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-right\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M10.146 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L12.793 8l-2.647-2.646a.5.5 0 0 1 0-.708z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2 8a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n                            <div className=\"col-lg border  recent p-0\">\r\n                                <div className=\"btn-group btn-group-toggle w-100 w-100 m-0 \" data-toggle=\"buttons\">\r\n\r\n                                    <label className=\"btn btn-secondary w-100 active\">\r\n                                        <input type=\"radio\" name=\"type\" id=\"allApps\" value='tblall' onClick={this.handleTypeChange} /> All Appointments\r\n                                    </label>\r\n                                    <label className=\"btn btn-secondary w-100\">\r\n                                        <input type=\"radio\" name=\"type\" id=\"allLabor\" value='tblrou' onClick={this.handleTypeChange} /> All Labor\r\n                                    </label>\r\n                                    <label className=\"btn btn-secondary w-100\">\r\n                                        <input type=\"radio\" name=\"type\" id=\"allCons\" value='tblcon' onClick={this.handleTypeChange} /> All Consultations\r\n                                    </label>\r\n                                    <label className=\"btn btn-secondary w-100\">\r\n                                        <input type=\"radio\" name=\"type\" id=\"allSpec\" value='tblspe' onClick={this.handleTypeChange} /> All Special Orders\r\n                                    </label>\r\n                \r\n                                </div>\r\n                            </div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg \">\r\n\r\n                                <table className=\"table table-striped table-fix\">\r\n                                    <thead className=\"thead-dark\">\r\n                                        <tr>\r\n                                        {\r\n                                            this.state.categories.map((header, index) => (\r\n                                            <th scope=\"col\" key={index}>{header}</th>\r\n                                                )\r\n                                            )\r\n\r\n                                        }\r\n\r\n                                        </tr>\r\n\r\n                                        \r\n                                    </thead>\r\n                                    <tbody id=\"tblall\" className=\"empty-square all-apps\"> \r\n                                        {\r\n                                            this.state.tblall.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope=\"col\" key={index}>{this.getMonthName(index)}</th>\r\n                                                <td>{data.count}</td>\r\n                                                <td>{data.sum}</td>\r\n                                                <td>{data.avg}</td>\r\n                                                <td>{data.rout}</td>\r\n                                                <td>{data.cons}</td>\r\n                                                <td>{data.spec}</td>\r\n\r\n                                            </tr>\r\n                                                )\r\n                                            )\r\n\r\n                                        }\r\n                                    </tbody>\r\n\r\n                                    <tbody id=\"tblrou\" className=\"empty-square all-apps d-none\"> \r\n                                        {\r\n                                            this.state.tblrou.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope=\"col\" key={index}>{this.getMonthName(index)}</th>\r\n                                                <td>{data.count}</td>\r\n                                                <td>{data.sum}</td>\r\n                                                <td>{data.avg}</td>\r\n                                                <td>{data.tasks}</td>\r\n                                                <td>{data.avgtasks}</td>\r\n\r\n                                            </tr>\r\n                                                )\r\n                                            )\r\n\r\n                                        }\r\n                                    </tbody>\r\n\r\n                                    <tbody id=\"tblcon\" className=\"empty-square all-apps d-none\"> \r\n                                        {\r\n                                            this.state.tblcon.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope=\"col\" key={index}>{this.getMonthName(index)}</th>\r\n                                                <td>{data.count}</td>\r\n                                            </tr>\r\n                                                )\r\n                                            )\r\n\r\n                                        }\r\n                                    </tbody>\r\n\r\n                                    <tbody id=\"tblspe\" className=\"empty-square all-apps d-none\"> \r\n                                        {\r\n                                            this.state.tblspe.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope=\"col\" key={index}>{this.getMonthName(index)}</th>\r\n                                                <td>{data.count}</td>\r\n                                                <td>{data.sum}</td>\r\n                                                <td>{data.avg}</td>\r\n                                                <td>{data.sup}</td>\r\n                                                <td>{data.supavg}</td>\r\n\r\n                                            </tr>\r\n                                                )\r\n                                            )\r\n\r\n                                        }\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default reports;\r\n","\r\n\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from './../routes/nav';\r\n\r\nclass search extends Component {\r\n\tconstructor() {\r\n        super();\r\n        \r\n        this.state = {\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\tcrudState: '',\r\n\t\t\tselected: '',\r\n            cUser: '',\r\n            categories: [{title:'Name/Title',class: \"\" },  {title:'Created by', class:\"\" }, {title: 'Updated By', class: \"\"}, {title: 'Created Date', class: \"\"}, {title: 'Updated Date', class: \"\"}],\r\n            year: new Date().getFullYear(),\r\n            search: '',\r\n        \r\n            tbluse: [],\r\n            tblcus: [],\r\n            tblapp: []\r\n        }\r\n        \r\n        this.handleTypeChange = this.handleTypeChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\r\n\r\n\t\t//consider making navbar part of a state array based on users.\r\n\t\t//Map out the appropriate options\r\n    }\r\n\r\n    componentDidMount() {\r\n\t\t//this.checkLoginSession();\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\") || localStorage.getItem(\"userType\") === \"Field Worker\") {\r\n\t\t\tthis.props.history.push('/')\r\n\t\t}\r\n\r\n    }\r\n    \r\n    loadData(event){\r\n    \r\n        localStorage.setItem(\"docid\",event.target.name)\r\n    }\r\n\r\n    onSubmit(){\r\n        console.log(this.state.search)\r\n        const q = this.state.search\r\n        if(this.state.search = ''){\r\n            return;\r\n        }\r\n\r\n        console.log('test: ' + this.state.path + ':5000/user/s/' + q)\r\n\r\n        axios.get(this.state.path + ':5000/user/s/' + q)\r\n        .then((res) => {\r\n            this.setState({ tbluse: res.data });\r\n            \r\n        })\r\n\r\n        axios.get(this.state.path + ':5000/customer/s/' + q)\r\n        .then((res) => {\r\n            this.setState({ tblcus: res.data });\r\n        })\r\n\r\n        axios.get(this.state.path + ':5000/appointment/s/' + q)\r\n\t\t\t\t\t.then((res) => {\r\n                        this.setState({ tblapp: res.data });\r\n                        console.log(res.data)\r\n\t\t\t\t\t})\r\n\r\n    }\r\n\r\n    onChange(event) {\r\n\t\tconsole.log(\"eventname: \" + event.target.name);\r\n\t\tconst state = this.state\r\n\t\tstate[event.target.name] = event.target.value;\r\n\t\tthis.setState(state);\r\n\t}\r\n\r\n    handleTypeChange(event){\r\n        console.log(event.target.value)\r\n        switch (event.target.value){\r\n            case 'option1':\r\n                document.getElementById(\"tbluse\").classList.remove('d-none');\r\n                document.getElementById(\"tblcus\").classList.remove('d-none');\r\n                document.getElementById(\"tblapp\").classList.remove('d-none');\r\n                document.getElementById(\"tblusem\").classList.remove('d-none');\r\n                document.getElementById(\"tblcusm\").classList.remove('d-none');\r\n                document.getElementById(\"tblappm\").classList.remove('d-none');\r\n                break;\r\n            case 'option2':\r\n                document.getElementById(\"tbluse\").classList.remove('d-none');\r\n                document.getElementById(\"tblcus\").classList.add('d-none');\r\n                document.getElementById(\"tblapp\").classList.add('d-none');\r\n                document.getElementById(\"tblusem\").classList.remove('d-none');\r\n                document.getElementById(\"tblcusm\").classList.add('d-none');\r\n                document.getElementById(\"tblappm\").classList.add('d-none');\r\n                break;\r\n            case 'option3':\r\n                document.getElementById(\"tbluse\").classList.add('d-none');\r\n                document.getElementById(\"tblcus\").classList.remove('d-none');\r\n                document.getElementById(\"tblapp\").classList.add('d-none');\r\n                document.getElementById(\"tblusem\").classList.add('d-none');\r\n                document.getElementById(\"tblcusm\").classList.remove('d-none');\r\n                document.getElementById(\"tblappm\").classList.add('d-none');\r\n                break;\r\n            case 'option4':\r\n                document.getElementById(\"tbluse\").classList.add('d-none');\r\n                document.getElementById(\"tblcus\").classList.add('d-none');\r\n                document.getElementById(\"tblapp\").classList.remove('d-none');\r\n                document.getElementById(\"tblusem\").classList.add('d-none');\r\n                document.getElementById(\"tblcusm\").classList.add('d-none');\r\n                document.getElementById(\"tblappm\").classList.remove('d-none');\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<div className=\"container border\">\r\n                    <div className=\"row border\">\r\n                        <div className=\"col-lg\">\r\n                        <div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Title</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"search\" value={this.state.search} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n                                <button type=\"button\" className=\"btn btn-primary m-0\" onClick={this.onSubmit}>Submit</button>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n                            \r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row border\">\r\n                        <div className=\"col-lg\">\r\n                        <div className=\"btn-group btn-group-toggle w-100\" data-toggle=\"buttons\" >\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption1\" className=\"btn btn-secondary active\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option1\" value=\"option1\" onClick={this.handleTypeChange} /> All\r\n\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption2\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option2\" value=\"option2\" onClick={this.handleTypeChange} /> Users\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption3\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option3\" value=\"option3\" onClick={this.handleTypeChange} /> Customers\r\n\t\t\t\t\t\t\t\t</label>\r\n                                <label id=\"lbloption3\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option4\" value=\"option4\" onClick={this.handleTypeChange} /> Appointments\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row border\">\r\n                        <div className=\"col-lg d-none d-md-block\">\r\n                        <table className=\"table table-striped table-fix\">\r\n                                <thead className=\"thead-dark\">\r\n                                    <tr>\r\n                                    {\r\n                                        this.state.categories.map((header, index) => (\r\n                                        <th scope=\"col\" key={index} className={header.class}>{header.title}</th>\r\n                                            )\r\n                                        )\r\n\r\n                                    }\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody id=\"tbluse\" className=\"empty-square all-apps \"> \r\n                                    {\r\n                                        this.state.tbluse.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope='col' key={index}><a className=\"\" href=\"/users\" onClick={this.loadData} name={data._id}> {\"User: \" +data.username}</a></th>\r\n                                                <td >{data.createdBy}</td>\r\n                                                <td >{data.updatedBy}</td>\r\n                                                <td >{data.createdDate}</td>\r\n                                                <td >{data.updatedDate}</td>\r\n\r\n                                            </tr>\r\n                                            )\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n\r\n                                <tbody id=\"tblcus\" className=\"empty-square all-apps \"> \r\n                                    {\r\n                                            this.state.tblcus.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope='col' key={index}><a className=\"\" href=\"/customers\" onClick={this.loadData} name={data._id}> Customer: {data.name}</a></th>\r\n                                                <td>{data.createdBy}</td>\r\n                                                <td>{data.updatedBy}</td>\r\n                                                <td>{data.createdDate}</td>\r\n                                                <td>{data.updatedDate}</td>\r\n\r\n                                            </tr>\r\n                                            )\r\n                                        )\r\n\r\n                                    }\r\n                                </tbody>\r\n\r\n                                <tbody id=\"tblapp\" className=\"empty-square all-apps \"> \r\n                                    {\r\n                                        this.state.tblapp.map((data, index) => (\r\n                                        <tr>    \r\n                                            <th scope='col' key={index}><a className=\"\" href=\"/appointments\" onClick={this.loadData} name={data._id}> Appointment: {data.title}</a></th>\r\n                                            <td>{data.createdBy}</td>\r\n                                            <td>{data.updatedBy}</td>\r\n                                            <td>{data.createdDate}</td>\r\n                                            <td>{data.updatedDate}</td>\r\n\r\n                                        </tr>\r\n                                            )\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n                        </table>\r\n                        </div>\r\n                        <div className=\"col-lg d-none d-sm-block d-md-none\">\r\n                        <table className=\"table table-striped table-fix\">\r\n                                <thead className=\"thead-dark\">\r\n                                    <tr>\r\n                  \r\n                                    <th scope=\"col\">Name/Title</th>\r\n                                    <th scope=\"col\">CreatedBy</th>\r\n\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody id=\"tblusem\" className=\"empty-square all-apps \"> \r\n                                    {\r\n                                        this.state.tbluse.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope='col' key={index}><a className=\"\" href=\"/users\" onClick={this.loadData} name={data._id}> {\"User: \" +data.username}</a></th>\r\n                                                <td >{data.createdBy}</td>\r\n                                     \r\n\r\n                                            </tr>\r\n                                            )\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n\r\n                                <tbody id=\"tblcusm\" className=\"empty-square all-apps \"> \r\n                                    {\r\n                                            this.state.tblcus.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope='col' key={index}><a className=\"\" href=\"/customers\" onClick={this.loadData} name={data._id}> Customer: {data.name}</a></th>\r\n                                                <td>{data.createdBy}</td>\r\n                                       \r\n                                            </tr>\r\n                                            )\r\n                                        )\r\n\r\n                                    }\r\n                                </tbody>\r\n\r\n                                <tbody id=\"tblappm\" className=\"empty-square all-apps \"> \r\n                                    {\r\n                                        this.state.tblapp.map((data, index) => (\r\n                                        <tr>    \r\n                                            <th scope='col' key={index}>Appointment: {data.title}</th>\r\n                                            <td>{data.createdBy}</td>\r\n                                          \r\n\r\n                                        </tr>\r\n                                            )\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n                        </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default search; ","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","import React from 'react';\r\nimport './css/login.css';\r\nimport { BrowserRouter, Route, Switch, withRouter } from 'react-router-dom';\r\nimport login from './routes/login';\r\nimport main from './routes/main';\r\nimport users from './routes/users';\r\nimport customers from './routes/customers';\r\nimport appointments from './routes/appointments';\r\nimport reports from './routes/reports';\r\nimport search from './routes/search';\r\nimport history from './routes/history';\r\n\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t\t<main className=\"main full-height\">\r\n\t\t\t\t<BrowserRouter>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route path=\"/\" component={withRouter(login)} exact />\r\n\t\t\t\t\t\t<Route path=\"/main\" component={withRouter(main)} />\r\n\t\t\t\t\t\t<Route path=\"/users\" component={withRouter(users)} />\r\n\t\t\t\t\t\t<Route path=\"/customers\" component={withRouter(customers)} />\r\n\t\t\t\t\t\t<Route path=\"/appointments\" component={withRouter(appointments)} />\r\n\t\t\t\t\t\t<Route path=\"/reports\" component={withRouter(reports)} />\r\n\t\t\t\t\t\t<Route path=\"/search\" component={withRouter(search)} />\r\n\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</BrowserRouter>\r\n\t\t\t</main>\r\n\r\n\t);\r\n}\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\r\nimport Popper from 'popper.js';\r\nimport $ from 'jquery';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}